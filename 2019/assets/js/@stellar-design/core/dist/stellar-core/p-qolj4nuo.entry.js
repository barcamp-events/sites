import{r as t,h as e,g as s}from"./p-8388b2f5.js";import"./p-3586bef7.js";import"./p-c428ff15.js";import{p as i}from"./p-c93f133f.js";import"./p-22e0cac7.js";import"./p-3a3a4911.js";const r=class{constructor(e){t(this,e),this.initialOriginX=50,this.initialOriginY=30,this.itemZ=10,this.cameraSpeed=150,this.cameraZ=-1,this.scenePerspective=1,this.distanceFromTop=0,this.distanceFromBottom=0,this.perspectiveOrigin={x:0,y:0,maxGap:10}}randomFloat(t,e){return Math.floor(Math.random()*(e-t))+t}componentWillLoad(){this.distanceFromTop=this.element.getBoundingClientRect().top,this.distanceFromBottom=this.element.getBoundingClientRect().bottom,this.prepare()}prepare(){this.sections=Array.from(this.element.querySelectorAll("stellar-scroll-z-section")),i.set({"--scenePerspective":this.scenePerspective,"--scenePerspectiveOriginX":this.initialOriginX,"--scenePerspectiveOriginY":this.initialOriginY,"--itemZ":this.itemZ,"--cameraSpeed":this.cameraSpeed,"--cameraZ":this.cameraZ,"--sectionHeight":0},document.documentElement),this.perspectiveOrigin={x:parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--scenePerspectiveOriginX")),y:parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--scenePerspectiveOriginY")),maxGap:10},this.setSceneHeight(),this.sections.forEach((t,e)=>{const s=`${this.randomFloat(-20,120)}%`,i=`${this.randomFloat(-20,120)}%`;t.style.setProperty("transform",`translate3D(${s}, ${i}, ${`calc(var(--itemZ) * var(--cameraSpeed) * ${e} * -1px)`})`)})}setSceneHeight(){const t=this.sections.length,e=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--itemZ")),s=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--scenePerspective")),i=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--cameraSpeed")),r=window.innerHeight+s*i+e/2*i*t;document.documentElement.style.setProperty("--sectionHeight",`${r}`)}moveCamera(){this.distanceFromTop=this.element.getBoundingClientRect().top,this.distanceFromBottom=this.element.getBoundingClientRect().bottom;const t=window.pageYOffset-this.distanceFromTop;t>=0?document.documentElement.style.setProperty("--cameraZ",`${t}`):document.documentElement.style.setProperty("--cameraZ","-1")}moveCameraAngle(t){const e=100*(t.clientX-window.innerWidth/2)/(window.innerWidth/2)*-1,s=100*(t.clientY-window.innerHeight/2)/(window.innerHeight/2)*-1,i=this.perspectiveOrigin.y+s*this.perspectiveOrigin.maxGap/100;document.documentElement.style.setProperty("--scenePerspectiveOriginX",`${this.perspectiveOrigin.x+e*this.perspectiveOrigin.maxGap/100}`),document.documentElement.style.setProperty("--scenePerspectiveOriginY",`${i}`)}render(){return e("div",{class:"container"},e("div",{class:"scene"},e("slot",null)))}get element(){return s(this)}static get style(){return":host{height:calc(var(--sectionHeight) * 1px);display:block;opacity:calc(var(--cameraZ) + 1);will-change:opacity;-webkit-transition:opacity .2s ease 0s;transition:opacity .2s ease 0s}:host .container{position:fixed;top:0;left:0;width:100%;height:100%;-webkit-perspective:calc(var(--scenePerspective) * var(--cameraSpeed) * 1px);perspective:calc(var(--scenePerspective) * var(--cameraSpeed) * 1px);-webkit-perspective-origin:calc(var(--scenePerspectiveOriginX) * 1%) calc(var(--scenePerspectiveOriginY) * 1%);perspective-origin:calc(var(--scenePerspectiveOriginX) * 1%) calc(var(--scenePerspectiveOriginY) * 1%);will-change:perspective-origin;-webkit-transform:translateZ(0);transform:translateZ(0)}:host .scene{position:absolute;top:0;height:100vh;width:100%;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:translateZ(calc(var(--cameraZ) * 1px));transform:translateZ(calc(var(--cameraZ) * 1px));will-change:transform}:host ::slotted(stellar-scroll-z-section){position:absolute;display:block;width:100%;top:40%}\@media only screen and (min-width:600px){:host ::slotted(stellar-scroll-z-section){width:45%}}"}};export{r as stellar_scroll_z_root};