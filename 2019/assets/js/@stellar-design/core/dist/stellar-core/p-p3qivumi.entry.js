import{r}from"./p-8388b2f5.js";import{c as t,u as n}from"./p-c428ff15.js";import{r as a}from"./p-293de399.js";const e=n(t((function(r,t){Object.defineProperty(t,"__esModule",{value:!0});var n,e=(n=a)&&n.__esModule?n:{default:n},o=new WeakMap,i=function(r,t){return Math.abs(r-t)},s=function(r){return[].concat(function(r){if(Array.isArray(r)){for(var t=0,n=Array(r.length);t<r.length;t++)n[t]=r[t];return n}return Array.from(r)}(document.querySelectorAll("."+r))).map((function(r){var t="true"===r.dataset.relative,n=t?u(r):0,a=parseInt(r.dataset.end,10),e=parseInt(r.dataset.start,10),o=parseFloat(r.dataset.opacityStart),i=parseFloat(r.dataset.opacityEnd),s=parseInt(r.dataset.translatexStart,10),f=parseInt(r.dataset.translatexEnd,10),c=parseInt(r.dataset.translateyStart,10),d=parseInt(r.dataset.translateyEnd,10),v=parseFloat(r.dataset.scaleStart),p=parseFloat(r.dataset.scaleEnd),l={};return isNaN(o)||isNaN(i)||(l.opacity={end:i,start:o}),isNaN(s)||isNaN(f)||(l.translateX={end:f,start:s}),isNaN(c)||isNaN(d)||(l.translateY={end:d,start:c}),isNaN(v)||isNaN(p)||(l.scale={end:p,start:v}),void 0===a||void 0===e||0===Object.keys(l)?null:{el:r,end:a,offset:n,relative:t,start:e,updates:l}})).filter((function(r){return r}))},u=function(r){return c()+r.getBoundingClientRect().top},f=function(r,t,n){var a=i(r,t)*n;return r>t?r-a:r+a},c=function(){return parseInt(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,10)},d=function(r){var t=function(){var r=document.createElement("div"),t=["Webkit","webkit","Moz","moz","ms","o"];if(null!=r.style.transform)return"transform";for(var n in t){var a=t[n]+"Transform";if(void 0!==r.style[a])return a}}();return function(){var n=c();r.map((function(r){var a,e=r.el,s=r.offset,u=r.updates,c=s+r.start,d=s+r.end,v=o.get(e);if(n>=c&&n<=d||"before"!==v&&n<c||"after"!==v&&n>d){var p=0,l=0,N=1,m=function(r,t,n){return i(r,n)/i(r,t)}(c,d,(a=c,Math.max(Math.min(n,d),a)));if(u.opacity){var w=u.opacity,I=f(w.start,w.end,m).toFixed(2);e.style.opacity=I}if(u.translateX){var b=u.translateX;p=parseInt(f(b.start,b.end,m),10)}if(u.translateY){var h=u.translateY;l=parseInt(f(h.start,h.end,m),10)}if(u.scale){var j=u.scale;N=f(j.start,j.end,m).toFixed(2)}e.style[t]="translate3d("+p+"px, "+l+"px, 0) scale("+N+")",o.set(e,n<c?"before":n>d?"after":"during")}}))}},v=function(r){var t=function(){return r.map((function(r){r.relative&&(r.offset=u(r.el))}))},n=void 0;window.addEventListener("resize",(function(){window.clearTimeout(n),n=window.setTimeout(t,50)}))};t.default=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.className,n=void 0===t?"js-parallaxis":t,a=s(n);if(a.length){var o=d(a);v(a),o(),window.addEventListener("scroll",(function(){return(0,e.default)(o)}))}}}))),o=class{constructor(t){r(this,t),this.target="story"}componentWillLoad(){e({className:this.target})}};export{o as stellar_story};