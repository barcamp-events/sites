/* =========================================================================
   Typography Utilities
   ========================================================================= */

// TODO: This whole file could do with some DRYing up with sass functions and loops.

// When I wrote these keyframes, only god and I knew how it worked.
// Now, only god knows.
@keyframes glint {
  0%, 100% {
    background:
      repeating-linear-gradient(-5deg, #000 0px, #000 2px, transparent 2px, transparent 4px),
      repeating-linear-gradient(85deg, #000 0px, #000 2px, transparent 2px, transparent 4px),
      repeating-linear-gradient(5deg, #000 0px, #000 2px, transparent 4px, transparent 6px),
      repeating-linear-gradient(-60deg, #000 0px, transparent 2px, var(--teal) 4px, var(--teal) 8px),
      repeating-linear-gradient(60deg, #fff 0px, var(--teal) 3px, #000 3px, #000 6px);
    -webkit-text-fill-color: transparent;
    -webkit-background-clip: text;
  }
  25% {
    background:
      repeating-linear-gradient(-5deg, #000 0px, #000 2px, transparent 2px, transparent 4px),
      repeating-linear-gradient(85deg, #000 0px, #000 2px, transparent 2px, transparent 4px),
      repeating-linear-gradient(5deg, #000 0px, #000 2px, transparent 4px, transparent 6px),
      repeating-linear-gradient(-60deg, #000 0px, transparent 2px, var(--teal) 4px, var(--teal) 8px),
      repeating-linear-gradient(-60deg, #fff 0px, var(--yellow) 2px, #000 3px, #000 6px);
    -webkit-text-fill-color: transparent;
    -webkit-background-clip: text;
  }
  50% {
    background:
      repeating-linear-gradient(-5deg, #000 0px, #000 2px, transparent 2px, transparent 4px),
      repeating-linear-gradient(85deg, #000 0px, #000 2px, transparent 2px, transparent 4px),
      repeating-linear-gradient(5deg, #000 0px, #000 2px, transparent 4px, transparent 6px),
      repeating-linear-gradient(60deg, transparent 0px, transparent 2px, var(--teal) 4px, var(--teal) 8px),
      repeating-linear-gradient(60deg, var(--teal) 0px, #fff 3px, #000 3px, #000 6px);
    -webkit-text-fill-color: transparent;
    -webkit-background-clip: text;
  }
  75% {
    background:
      repeating-linear-gradient(-5deg, #000 0px, #000 2px, transparent 2px, transparent 4px),
      repeating-linear-gradient(85deg, #000 0px, #000 2px, transparent 2px, transparent 4px),
      repeating-linear-gradient(5deg, #000 0px, #000 2px, transparent 4px, transparent 6px),
      repeating-linear-gradient(-60deg, #000 0px, transparent 2px, var(--teal) 4px, var(--teal) 8px),
      repeating-linear-gradient(40deg, #fff 0px, var(--yellow) 2px, #000 3px, #000 6px);
    -webkit-text-fill-color: transparent;
    -webkit-background-clip: text;
  }
}

.glitter-text {
  font-family: $bebas;
  font-weight: $normal;
  -webkit-text-stroke: 2px var(--teal);
  text-shadow: 5px 5px 10px rgba(0, 54, 54, 20%);
  text-transform: uppercase;
  animation: glint 1.5s ease infinite;
}

@keyframes dance {
  0%, 100% {
    transform: scaleY(1) skewX(0);
  }

  25% {
    transform: scaleY(1.1) skewX(5deg);
  }

  50% {
    transform: scaleY(1) skewX(0);
  }

  75% {
    transform: scaleY(1.1) skewX(-5deg);
  }
}

.dancy-text {
  font-family: $bebas;
  font-weight: $normal;
  line-height: 1;
  text-transform: uppercase;
  transform-origin: bottom center;
  animation: dance 1s steps(2, jump-none) infinite;
}

@keyframes shine {
  from { background-position: 100%; }
  to { background-position: 0%; }
}

.shiny-text {
  position: relative;
  margin: 0;
  font-family: $bebas;
  font-weight: $normal;
  text-align: center;
  -webkit-text-stroke: 2px rgba(#000, 0.35);
  animation: shine 5s linear infinite;

  &--platinum {
    background:
      repeating-linear-gradient(
        -60deg,
        var(--platinum) 0%,
        var(--platinum) calc(50% - 10px),
        #fff 50%,
        var(--platinum) calc(50% + 10px),
        var(--platinum) 100%
      );
    background-position: 50%;
    background-size: 400%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    color: var(--platinum);
  }

  &--gold {
    background:
      repeating-linear-gradient(
        -60deg,
        var(--gold) 0%,
        var(--gold) calc(50% - 10px),
        #fff 50%,
        var(--gold) calc(50% + 10px),
        var(--gold) 100%
      );
    background-position: 50%;
    background-size: 400%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    color: var(--gold);
  }

  &--silver {
    background:
      repeating-linear-gradient(
        -60deg,
        var(--silver) 0%,
        var(--silver) calc(50% - 10px),
        #fff 50%,
        var(--silver) calc(50% + 10px),
        var(--silver) 100%
      );
    background-position: 50%;
    background-size: 400%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    color: var(--silver);
  }

  &--bronze {
    background:
      repeating-linear-gradient(
        -60deg,
        var(--bronze) 0%,
        var(--bronze) calc(50% - 10px),
        #fff 50%,
        var(--bronze) calc(50% + 10px),
        var(--bronze) 100%
      );
    background-position: 50%;
    background-size: 400%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    color: var(--bronze);
  }

  &--recurring {
    background:
      repeating-linear-gradient(
        -60deg,
        var(--recurring) 0%,
        var(--recurring) calc(50% - 10px),
        #fff 50%,
        var(--recurring) calc(50% + 10px),
        var(--recurring) 100%
      );
    background-position: 50%;
    background-size: 400%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    color: var(--recurring);
  }
}

// Makes text align classes for different break points
@mixin text-align-classes($suffix) {
  .text-align {
    &-left#{$suffix} {
      text-align: left !important;
    }

    &-right#{$suffix} {
      text-align: right !important;
    }

    &-center#{$suffix} {
      text-align: center !important;
    }
  }
}

// $sizes is defined in _abstractions/_variables.scss
@each $size, $value in $sizes {
  @include make-responsive-classes($value) {
    @include text-align-classes($size);
  }
}

.three-d-text {
  color: var(--teal);
  font-family: $bebas;
  font-weight: $normal;
  text-shadow:
    -1px -1px 1px #FFF,
    2px 2px 5px #000,
    0px -1px 0 darken($teal, 10%),
    0px -2px 0 darken($teal, 11%),
    0px -3px 0 darken($teal, 12%),
    0px -4px 0 darken($teal, 13%),
    0px -5px 0 darken($teal, 14%),
    0px -6px 0 darken($teal, 15%),
    0px -7px 0 darken($teal, 16%),
    0px -9px 0 darken($teal, 17%),
    0px -10px 0 darken($teal, 18%);
  text-transform: uppercase;
}

.tight-line-height {
  line-height: 1;
}

.yellow-text {
  color: var(--yellow);
}
