function color_picker_init(){jQuery(".minicolor-picker").miniColors()}function toggle_button_init(t,e){var a=jQuery(e),i=a.find(".cf-toggle-group-radio:checked");i.length&&jQuery("#"+i.data("ref")).trigger("click")}jQuery&&function(t){t.extend(t.fn,{miniColors:function(e,a){var i=function(e,a,i){var n=y(e.val());n||(n="ffffff");var r=_(n),c=t('<span class="input-group-addon" style="background-color: #'+n+'" href="#"></span>');c.insertAfter(e),e.addClass("miniColors").data("original-maxlength",e.attr("maxlength")||null).data("original-autocomplete",e.attr("autocomplete")||null).data("letterCase",a.letterCase?a.letterCase:"uppercase").data("trigger",c).data("hsb",r).data("change",a.change?a.change:null).data("close",a.close?a.close:null).data("open",a.open?a.open:null).attr("maxlength",7).attr("autocomplete","off").val("#"+f(n,a.letterCase)).trigger("change"),a.readonly&&e.prop("readonly",!0),a.disabled&&s(e),c.on("click.miniColors",function(t){t.preventDefault(),""===e.val()&&e.val("#").trigger("change"),o(e)}),e.on("focus.miniColors",function(t){""===e.val()&&e.val("#").trigger("change"),o(e)}),e.on("blur.miniColors",function(t){var a=y(C(e.data("hsb")));e.val(a?"#"+f(a,e.data("letterCase")):"").trigger("change")}),e.on("keydown.miniColors",function(t){9===t.keyCode&&l(e)}),e.on("keyup.miniColors",function(t){p(e)}),e.on("paste.miniColors",function(t){setTimeout(function(){p(e)},5)})},n=function(e){l(),e=t(e),e.data("trigger").remove(),e.attr("autocomplete",e.data("original-autocomplete")).attr("maxlength",e.data("original-maxlength")).removeData().removeClass("miniColors").off(".miniColors"),t(document).off(".miniColors")},r=function(t){t.prop("disabled",!1).data("trigger").css("opacity",1)},s=function(t){l(t),t.prop("disabled",!0).data("trigger").css("opacity",.5)},o=function(e){if(e.prop("disabled"))return!1;l();var a=t('<div class="miniColors-selector"></div>');a.append('<div class="miniColors-colors" style="background-color: #FFF;"><div class="miniColors-colorPicker"><div class="miniColors-colorPicker-inner"></div></div>').append('<div class="miniColors-hues"><div class="miniColors-huePicker"></div></div>').css("display","none").addClass(e.attr("class")).removeClass("form-control");var i=e.data("hsb");a.find(".miniColors-colors").css("backgroundColor","#"+C({h:i.h,s:100,b:100}));var n=e.data("colorPosition");n||(n=v(i)),a.find(".miniColors-colorPicker").css("top",n.y+"px").css("left",n.x+"px");var r=e.data("huePosition");r||(r=m(i)),a.find(".miniColors-huePicker").css("top",r.y+"px"),e.data("selector",a).data("huePicker",a.find(".miniColors-huePicker")).data("colorPicker",a.find(".miniColors-colorPicker")).data("mousebutton",0),t("BODY").append(a);var s=e.data("trigger"),o=!e.is(":visible"),h=o?s.offset().top+s.outerHeight():e.offset().top+e.outerHeight(),d=o?s.offset().left:e.offset().left,p=a.outerWidth(),f=a.outerHeight(),g=s.outerWidth(),y=s.outerHeight(),b=t(window).height(),x=t(window).width(),w=t(window).scrollTop(),_=t(window).scrollLeft();h+f>b+w&&(h=h-f-y),d+p>x+_&&(d=d-p+g),a.css({top:h,left:d}).fadeIn(100),a.on("selectstart",function(){return!1}),(!t.browser.msie||t.browser.msie&&t.browser.version>=9)&&t(window).on("resize.miniColors",function(t){l(e)}),t(document).on("mousedown.miniColors touchstart.miniColors",function(a){e.data("mousebutton",1);var i=t(a.target).parents().andSelf();return i.hasClass("miniColors-colors")&&(a.preventDefault(),e.data("moving","colors"),c(e,a)),i.hasClass("miniColors-hues")&&(a.preventDefault(),e.data("moving","hues"),u(e,a)),i.hasClass("miniColors-selector")?void a.preventDefault():void(i.hasClass("miniColors")||l(e))}),t(document).on("mouseup.miniColors touchend.miniColors",function(t){t.preventDefault(),e.data("mousebutton",0).removeData("moving")}).on("mousemove.miniColors touchmove.miniColors",function(t){t.preventDefault(),1===e.data("mousebutton")&&("colors"===e.data("moving")&&c(e,t),"hues"===e.data("moving")&&u(e,t))}),e.data("open")&&e.data("open").call(e.get(0),"#"+C(i),k(i))},l=function(e){e||(e=t(".miniColors")),e.each(function(){var a=t(this).data("selector");t(this).removeData("selector"),t(a).fadeOut(100,function(){if(e.data("close")){var a=e.data("hsb"),i=C(a);e.data("close").call(e.get(0),"#"+i,k(a))}t(this).remove()})}),t(document).off(".miniColors")},c=function(t,e){var a=t.data("colorPicker");a.hide();var i={x:e.pageX,y:e.pageY};e.originalEvent.changedTouches&&(i.x=e.originalEvent.changedTouches[0].pageX,i.y=e.originalEvent.changedTouches[0].pageY),i.x=i.x-t.data("selector").find(".miniColors-colors").offset().left-5,i.y=i.y-t.data("selector").find(".miniColors-colors").offset().top-5,i.x<=-5&&(i.x=-5),i.x>=144&&(i.x=144),i.y<=-5&&(i.y=-5),i.y>=144&&(i.y=144),t.data("colorPosition",i),a.css("left",i.x).css("top",i.y).show();var n=Math.round(.67*(i.x+5));0>n&&(n=0),n>100&&(n=100);var r=100-Math.round(.67*(i.y+5));0>r&&(r=0),r>100&&(r=100);var s=t.data("hsb");s.s=n,s.b=r,d(t,s,!0)},u=function(t,e){var a=t.data("huePicker");a.hide();var i={y:e.pageY};e.originalEvent.changedTouches&&(i.y=e.originalEvent.changedTouches[0].pageY),i.y=i.y-t.data("selector").find(".miniColors-colors").offset().top-1,i.y<=-1&&(i.y=-1),i.y>=149&&(i.y=149),t.data("huePosition",i),a.css("top",i.y).show();var n=Math.round(2.4*(150-i.y-1));0>n&&(n=0),n>360&&(n=360);var r=t.data("hsb");r.h=n,d(t,r,!0)},d=function(t,e,a){t.data("hsb",e);var i=C(e);if(a&&t.val("#"+f(i,t.data("letterCase"))).trigger("change"),t.data("trigger").css("backgroundColor","#"+i),t.data("selector")&&t.data("selector").find(".miniColors-colors").css("backgroundColor","#"+C({h:e.h,s:100,b:100})),t.data("change")){if(i===t.data("lastChange"))return;t.data("change").call(t.get(0),"#"+i,k(e)),t.data("lastChange",i)}},p=function(e){e.val("#"+g(e.val())).trigger("change");var a=y(e.val());if(!a)return!1;var i=_(a),n=e.data("hsb");if(i.h===n.h&&i.s===n.s&&i.b===n.b)return!0;var r=v(i),s=t(e.data("colorPicker"));s.css("top",r.y+"px").css("left",r.x+"px"),e.data("colorPosition",r);var o=m(i),l=t(e.data("huePicker"));return l.css("top",o.y+"px"),e.data("huePosition",o),d(e,i),!0},f=function(t,e){return"lowercase"===e?t.toLowerCase():"uppercase"===e?t.toUpperCase():t},v=function(t){var e=Math.ceil(t.s/.67);0>e&&(e=0),e>150&&(e=150);var a=150-Math.ceil(t.b/.67);return 0>a&&(a=0),a>150&&(a=150),{x:e-5,y:a-5}},m=function(t){var e=150-t.h/2.4;return 0>e&&(h=0),e>150&&(h=150),{y:e-1}},g=function(t){return t.replace(/[^A-F0-9]/gi,"")},y=function(t){return(t=g(t))?(3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),6===t.length?t:null):null},k=function(t){var e={},a=Math.round(t.h),i=Math.round(255*t.s/100),n=Math.round(255*t.b/100);if(0===i)e.r=e.g=e.b=n;else{var r=n,s=(255-i)*n/255,o=(r-s)*(a%60)/60;360===a&&(a=0),60>a?(e.r=r,e.b=s,e.g=s+o):120>a?(e.g=r,e.b=s,e.r=r-o):180>a?(e.g=r,e.r=s,e.b=s+o):240>a?(e.b=r,e.r=s,e.g=r-o):300>a?(e.b=r,e.g=s,e.r=s+o):360>a?(e.r=r,e.g=s,e.b=r-o):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}},b=function(e){var a=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(a,function(t,e){1===e.length&&(a[t]="0"+e)}),a.join("")},x=function(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}},w=function(t){var e={h:0,s:0,b:0},a=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),n=i-a;return e.b=i,e.s=0!==i?255*n/i:0,0!==e.s?t.r===i?e.h=(t.g-t.b)/n:t.g===i?e.h=2+(t.b-t.r)/n:e.h=4+(t.r-t.g)/n:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e},_=function(t){var e=w(x(t));return 0===e.s&&(e.h=360),e},C=function(t){return b(k(t))};switch(e){case"readonly":return t(this).each(function(){t(this).hasClass("miniColors")&&t(this).prop("readonly",a)}),t(this);case"disabled":return t(this).each(function(){t(this).hasClass("miniColors")&&(a?s(t(this)):r(t(this)))}),t(this);case"value":if(void 0===a){if(!t(this).hasClass("miniColors"))return;var D=t(this),T=y(D.val());return T?"#"+f(T,D.data("letterCase")):null}return t(this).each(function(){t(this).hasClass("miniColors")&&(t(this).val(a).trigger("change"),p(t(this)))}),t(this);case"destroy":return t(this).each(function(){t(this).hasClass("miniColors")&&n(t(this))}),t(this);default:return e||(e={}),t(this).each(function(){"input"===t(this)[0].tagName.toLowerCase()&&(t(this).data("trigger")||i(t(this),e,a))}),t(this)}}})}(jQuery),function(t,e){function a(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return a(t.getFullYear(),t.getMonth(),t.getDate())}function n(t){return function(){return this[t].apply(this,arguments)}}function r(e,a){function i(t,e){return e.toLowerCase()}var n,r=t(e).data(),s={},o=new RegExp("^"+a.toLowerCase()+"([A-Z])");a=new RegExp("^"+a.toLowerCase());for(var l in r)a.test(l)&&(n=l.replace(o,i),s[n]=r[l]);return s}function s(e){var a={};if(f[e]||(e=e.split("-")[0],f[e])){var i=f[e];return t.each(p,function(t,e){e in i&&(a[e]=i[e])}),a}}var o=t(window),l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),a=0,i=this.length;i>a;a++)if(this[a].valueOf()===e)return a;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.splice(0)},copy:function(){var t=new l;return t.replace(this),t}};return function(){var a=[];return a.push.apply(a,arguments),t.extend(a,e),a}}(),c=function(e,a){this.dates=new l,this.viewDate=i(),this.focusDate=null,this._process_options(a),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(v.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("cfdatepicker-inline").appendTo(this.element):this.picker.addClass("cfdatepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("cfdatepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(e){this._o=t.extend({},this._o,e);var a=this.o=t.extend({},this._o),i=a.language;switch(f[i]||(i=i.split("-")[0],f[i]||(i=d.language)),a.language=i,a.startView){case 2:case"decade":a.startView=2;break;case 1:case"year":a.startView=1;break;default:a.startView=0}switch(a.minViewMode){case 1:case"months":a.minViewMode=1;break;case 2:case"years":a.minViewMode=2;break;default:a.minViewMode=0}a.startView=Math.max(a.startView,a.minViewMode),a.multidate!==!0&&(a.multidate=Number(a.multidate)||!1,a.multidate!==!1?a.multidate=Math.max(0,a.multidate):a.multidate=1),a.multidateSeparator=String(a.multidateSeparator),a.weekStart%=7,a.weekEnd=(a.weekStart+6)%7;var n=v.parseFormat(a.format);a.startDate!==-(1/0)&&(a.startDate?a.startDate instanceof Date?a.startDate=this._local_to_utc(this._zero_time(a.startDate)):a.startDate=v.parseDate(a.startDate,n,a.language):a.startDate=-(1/0)),a.endDate!==1/0&&(a.endDate?a.endDate instanceof Date?a.endDate=this._local_to_utc(this._zero_time(a.endDate)):a.endDate=v.parseDate(a.endDate,n,a.language):a.endDate=1/0),a.daysOfWeekDisabled=a.daysOfWeekDisabled||[],t.isArray(a.daysOfWeekDisabled)||(a.daysOfWeekDisabled=a.daysOfWeekDisabled.split(/[,\s]*/)),a.daysOfWeekDisabled=t.map(a.daysOfWeekDisabled,function(t){return parseInt(t,10)});var r=String(a.orientation).toLowerCase().split(/\s+/g),s=a.orientation.toLowerCase();if(r=t.grep(r,function(t){return/^auto|left|right|top|bottom$/.test(t)}),a.orientation={x:"auto",y:"auto"},s&&"auto"!==s)if(1===r.length)switch(r[0]){case"top":case"bottom":a.orientation.y=r[0];break;case"left":case"right":a.orientation.x=r[0]}else s=t.grep(r,function(t){return/^left|right$/.test(t)}),a.orientation.x=s[0]||"auto",s=t.grep(r,function(t){return/^top|bottom$/.test(t)}),a.orientation.y=s[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var a,i,n,r=0;r<t.length;r++)a=t[r][0],2===t[r].length?(i=e,n=t[r][1]):3===t[r].length&&(i=t[r][1],n=t[r][2]),a.on(n,i)},_unapplyEvents:function(t){for(var a,i,n,r=0;r<t.length;r++)a=t[r][0],2===t[r].length?(n=e,i=t[r][1]):3===t[r].length&&(n=t[r][1],i=t[r][2]),a.off(i,n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,a){var i=a||this.dates.get(-1),n=this._utc_to_local(i);this.element.trigger({type:e,date:n,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var a=this.dates.get(t);return v.formatDate(a,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().cfdatepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:n("setDates"),setUTCDate:n("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(a){a===e&&(a=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return v.formatDate(t,a,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),a=this.picker.outerHeight(),i=10,n=o.width(),r=o.height(),s=o.scrollTop(),l=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,c=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=c.left,p=c.top;this.picker.removeClass("cfdatepicker-orient-top cfdatepicker-orient-bottom cfdatepicker-orient-right cfdatepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("cfdatepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=e-u)):(this.picker.addClass("cfdatepicker-orient-left"),c.left<0?d-=c.left-i:c.left+e>n&&(d=n-e-i));var f,v,m=this.o.orientation.y;"auto"===m&&(f=-s+c.top-a,v=s+r-(c.top+h+a),m=Math.max(f,v)===v?"top":"bottom"),this.picker.addClass("cfdatepicker-orient-"+m),"top"===m?p+=h:p-=a+parseInt(this.picker.css("padding-top")),this.picker.css({top:p,left:d,zIndex:l})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),a=[],i=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),a.push(e)},this)),i=!0):(a=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),a=a&&this.o.multidate?a.split(this.o.multidateSeparator):[a],delete this.element.data().date),a=t.map(a,t.proxy(function(t){return v.parseDate(t,this.o.format,this.o.language)},this)),a=t.grep(a,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(a),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():a.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var a='<th class="cw">&nbsp;</th>';e+=a,this.picker.find(".cfdatepicker-days thead tr:first-child").prepend(a)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+f[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".cfdatepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+f[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".cfdatepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var a=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),r=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<n?a.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>n)&&a.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&a.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===r.getFullYear()&&e.getUTCMonth()===r.getMonth()&&e.getUTCDate()===r.getDate()&&a.push("today"),-1!==this.dates.contains(e)&&a.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&a.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&a.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&a.push("selected")),a},fill:function(){var i,n=new Date(this.viewDate),r=n.getUTCFullYear(),s=n.getUTCMonth(),o=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=f[this.o.language].today||f.en.today||"",d=f[this.o.language].clear||f.en.clear||"";this.picker.find(".cfdatepicker-days thead th.cfdatepicker-switch").text(f[this.o.language].months[s]+" "+r),this.picker.find("tfoot th.today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(d).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=a(r,s-1,28),m=v.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(m),p.setUTCDate(m-(p.getUTCDay()-this.o.weekStart+7)%7);var g=new Date(p);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var y,k=[];p.valueOf()<g;){if(p.getUTCDay()===this.o.weekStart&&(k.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),x=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),w=new Date(Number(w=a(x.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),_=(x-w)/864e5/7+1;k.push('<td class="cw">'+_+"</td>")}if(y=this.getClassNames(p),y.push("day"),this.o.beforeShowDay!==t.noop){var C=this.o.beforeShowDay(this._utc_to_local(p));C===e?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),C.enabled===!1&&y.push("disabled"),C.classes&&(y=y.concat(C.classes.split(/\s+/))),C.tooltip&&(i=C.tooltip)}y=t.unique(y),k.push('<td class="'+y.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+p.getUTCDate()+"</td>"),p.getUTCDay()===this.o.weekEnd&&k.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".cfdatepicker-days tbody").empty().append(k.join(""));var D=this.picker.find(".cfdatepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===r&&D.eq(e.getUTCMonth()).addClass("active")}),(o>r||r>c)&&D.addClass("disabled"),r===o&&D.slice(0,l).addClass("disabled"),r===c&&D.slice(h+1).addClass("disabled"),k="",r=10*parseInt(r/10,10);var T=this.picker.find(".cfdatepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var P,M=t.map(this.dates,function(t){return t.getUTCFullYear()}),S=-1;11>S;S++)P=["year"],-1===S?P.push("old"):10===S&&P.push("new"),-1!==t.inArray(r,M)&&P.push("active"),(o>r||r>c)&&P.push("disabled"),k+='<span class="'+P.join(" ")+'">'+r+"</span>",r+=1;T.html(k)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),a=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var i,n,r,s=t(e.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"cfdatepicker-switch":this.showMode(1);break;case"prev":case"next":var o=v.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=a(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":var h;this.isInput?h=this.element:this.component&&(h=this.element.find("input")),h&&h.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":s.is(".disabled")||(this.viewDate.setUTCDate(1),s.is(".month")?(r=1,n=s.parent().find("span").index(s),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(n),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(a(i,n,r))):(r=1,n=0,i=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(a(i,n,r))),this.showMode(-1),this.fill());break;case"td":s.is(".day")&&!s.is(".disabled")&&(r=parseInt(s.text(),10)||1,i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),s.is(".old")?0===n?(n=11,i-=1):n-=1:s.is(".new")&&(11===n?(n=0,i+=1):n+=1),this._setDate(a(i,n,r)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,a){if(!t)return e;if(!a)return t;var i,n,r=new Date(t.valueOf()),s=r.getUTCDate(),o=r.getUTCMonth(),l=Math.abs(a);if(a=a>0?1:-1,1===l)n=-1===a?function(){return r.getUTCMonth()===o}:function(){return r.getUTCMonth()!==i},i=o+a,r.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var c=0;l>c;c++)r=this.moveMonth(r,a);i=r.getUTCMonth(),r.setUTCDate(s),n=function(){return i!==r.getUTCMonth()}}for(;n();)r.setUTCDate(--s),r.setUTCMonth(i);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,a,n,r=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(a=this.moveYear(this.dates.get(-1)||i(),e),n=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(a=this.moveMonth(this.dates.get(-1)||i(),e),n=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(a=new Date(this.dates.get(-1)||i()),a.setUTCDate(a.getUTCDate()+e),n=new Date(s),n.setUTCDate(s.getUTCDate()+e)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(a=this.moveYear(this.dates.get(-1)||i(),e),n=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(a=this.moveMonth(this.dates.get(-1)||i(),e),n=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(a=new Date(this.dates.get(-1)||i()),a.setUTCDate(a.getUTCDate()+7*e),n=new Date(s),n.setUTCDate(s.getUTCDate()+7*e)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:s=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(s),r=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(r){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".cfdatepicker-"+v.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var h=function(e,a){this.element=t(e),this.inputs=t.map(a.inputs,function(t){return t.jquery?t[0]:t}),delete a.inputs,t(this.inputs).cfdatepicker(a).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("cfdatepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,a){a.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var a=t(e.target).data("cfdatepicker"),i=a.getUTCDate(),n=t.inArray(e.target,this.inputs),r=this.inputs.length;if(-1!==n){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[n])for(;n>=0&&i<this.dates[n];)this.pickers[n--].setUTCDate(i);else if(i>this.dates[n])for(;r>n&&i>this.dates[n];)this.pickers[n++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().cfdatepicker}};var u=t.fn.cfdatepicker;t.fn.cfdatepicker=function(a){var i=Array.apply(null,arguments);i.shift();var n;return this.each(function(){var o=t(this),l=o.data("cfdatepicker"),u="object"==typeof a&&a;if(!l){var p=r(this,"date"),f=t.extend({},d,p,u),v=s(f.language),m=t.extend({},d,v,p,u);if(o.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||o.find("input").toArray()};o.data("cfdatepicker",l=new h(this,t.extend(m,g)))}else o.data("cfdatepicker",l=new c(this,m))}return"string"==typeof a&&"function"==typeof l[a]&&(n=l[a].apply(l,i),n!==e)?!1:void 0}),n!==e?n:this};var d=t.fn.cfdatepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},p=t.fn.cfdatepicker.locale_opts=["format","rtl","weekStart"];t.fn.cfdatepicker.Constructor=c;var f=t.fn.cfdatepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,v.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),a=t.match(this.validParts);if(!e||!e.length||!a||0===a.length)throw new Error("Invalid date format.");return{separators:e,
parts:a}},parseDate:function(i,n,r){function s(){var t=this.slice(0,d[h].length),e=d[h].slice(0,t.length);return t===e}if(!i)return e;if(i instanceof Date)return i;"string"==typeof n&&(n=v.parseFormat(n));var o,l,h,u=/([\-+]\d+)([dmwy])/,d=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,h=0;h<d.length;h++)switch(o=u.exec(d[h]),l=parseInt(o[1]),o[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=c.prototype.moveMonth.call(c.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=c.prototype.moveYear.call(c.prototype,i,l)}return a(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}d=i&&i.match(this.nonpunctuation)||[],i=new Date;var p,m,g={},y=["yyyy","yy","M","MM","m","mm","d","dd"],k={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};k.M=k.MM=k.mm=k.m,k.dd=k.d,i=a(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var b=n.parts.slice();if(d.length!==b.length&&(b=t(b).filter(function(e,a){return-1!==t.inArray(a,y)}).toArray()),d.length===b.length){var x;for(h=0,x=b.length;x>h;h++){if(p=parseInt(d[h],10),o=b[h],isNaN(p))switch(o){case"MM":m=t(f[r].months).filter(s),p=t.inArray(m[0],f[r].months)+1;break;case"M":m=t(f[r].monthsShort).filter(s),p=t.inArray(m[0],f[r].monthsShort)+1}g[o]=p}var w,_;for(h=0;h<y.length;h++)_=y[h],_ in g&&!isNaN(g[_])&&(w=new Date(i),k[_](w,g[_]),isNaN(w)||(i=w))}return i},formatDate:function(e,a,i){if(!e)return"";"string"==typeof a&&(a=v.parseFormat(a));var n={d:e.getUTCDate(),D:f[i].daysShort[e.getUTCDay()],DD:f[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:f[i].monthsShort[e.getUTCMonth()],MM:f[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,e=[];for(var r=t.extend([],a.separators),s=0,o=a.parts.length;o>=s;s++)r.length&&e.push(r.shift()),e.push(n[a.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="cfdatepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="cfdatepicker"><div class="cfdatepicker-days"><table class=" table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="cfdatepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="cfdatepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",t.fn.cfdatepicker.DPGlobal=v,t.fn.cfdatepicker.noConflict=function(){return t.fn.cfdatepicker=u,this},t(document).on("focus.cfdatepicker.data-api click.cfdatepicker.data-api",'[data-provide="cfdatepicker"]',function(e){var a=t(this);a.data("cfdatepicker")||(e.preventDefault(),a.cfdatepicker("show").on("show",function(){t(this).trigger("blur")}).on("hide",function(){t(this).attr("disabled",!1)}))})}(window.jQuery),!function(t){function e(t){var e=document.createElement("input"),a="on"+t,i=a in e;return i||(e.setAttribute(a,"return;"),i="function"==typeof e[a]),e=null,i}function a(t){var e="text"==t||"tel"==t;if(!e){var a=document.createElement("input");a.setAttribute("type",t),e="text"===a.type,a=null}return e}function i(e,a,n){var r=n.aliases[e];return r?(r.alias&&i(r.alias,void 0,n),t.extend(!0,n,r),t.extend(!0,n,a),!0):!1}function n(e,a){function i(t){function a(t,e,a,i){this.matches=[],this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=a||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function i(t,a,i){var n=e.definitions[a],r=0==t.matches.length;if(i=void 0!=i?i:t.matches.length,n&&!u){for(var s=n.prevalidator,o=s?s.length:0,l=1;l<n.cardinality;l++){var c=o>=l?s[l-1]:[],h=c.validator,d=c.cardinality;t.matches.splice(i++,0,{fn:h?"string"==typeof h?new RegExp(h):new function(){this.test=h}:new RegExp("."),cardinality:d?d:1,optionality:t.isOptional,newBlockMarker:r,casing:n.casing,def:n.definitionSymbol||a,placeholder:n.placeholder,mask:a})}t.matches.splice(i++,0,{fn:n.validator?"string"==typeof n.validator?new RegExp(n.validator):new function(){this.test=n.validator}:new RegExp("."),cardinality:n.cardinality,optionality:t.isOptional,newBlockMarker:r,casing:n.casing,def:n.definitionSymbol||a,placeholder:n.placeholder,mask:a})}else t.matches.splice(i++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:r,casing:null,def:a,placeholder:void 0,mask:a}),u=!1}for(var n,r,s,o,l,c,h=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,u=!1,d=new a,p=[],f=[];n=h.exec(t);)switch(r=n[0],r.charAt(0)){case e.optionalmarker.end:case e.groupmarker.end:if(s=p.pop(),p.length>0){if(o=p[p.length-1],o.matches.push(s),o.isAlternator){l=p.pop();for(var v=0;v<l.matches.length;v++)l.matches[v].isGroup=!1;p.length>0?(o=p[p.length-1],o.matches.push(l)):d.matches.push(l)}}else d.matches.push(s);break;case e.optionalmarker.start:p.push(new a(!1,!0));break;case e.groupmarker.start:p.push(new a(!0));break;case e.quantifiermarker.start:var m=new a(!1,!1,!0);r=r.replace(/[{}]/g,"");var g=r.split(","),y=isNaN(g[0])?g[0]:parseInt(g[0]),k=1==g.length?y:isNaN(g[1])?g[1]:parseInt(g[1]);if(("*"==k||"+"==k)&&(y="*"==k?0:1),m.quantifier={min:y,max:k},p.length>0){var b=p[p.length-1].matches;if(n=b.pop(),!n.isGroup){var x=new a(!0);x.matches.push(n),n=x}b.push(n),b.push(m)}else{if(n=d.matches.pop(),!n.isGroup){var x=new a(!0);x.matches.push(n),n=x}d.matches.push(n),d.matches.push(m)}break;case e.escapeChar:u=!0;break;case e.alternatormarker:p.length>0?(o=p[p.length-1],c=o.matches.pop()):c=d.matches.pop(),c.isAlternator?p.push(c):(l=new a(!1,!1,!1,!0),l.matches.push(c),p.push(l));break;default:if(p.length>0){if(o=p[p.length-1],o.matches.length>0&&(c=o.matches[o.matches.length-1],c.isGroup&&(c.isGroup=!1,i(c,e.groupmarker.start,0),i(c,e.groupmarker.end))),i(o,r),o.isAlternator){l=p.pop();for(var v=0;v<l.matches.length;v++)l.matches[v].isGroup=!1;p.length>0?(o=p[p.length-1],o.matches.push(l)):d.matches.push(l)}}else d.matches.length>0&&(c=d.matches[d.matches.length-1],c.isGroup&&(c.isGroup=!1,i(c,e.groupmarker.start,0),i(c,e.groupmarker.end))),i(d,r)}return d.matches.length>0&&(c=d.matches[d.matches.length-1],c.isGroup&&(c.isGroup=!1,i(c,e.groupmarker.start,0),i(c,e.groupmarker.end)),f.push(d)),f}function n(a,n){if(e.numericInput&&e.multi!==!0){a=a.split("").reverse();for(var r=0;r<a.length;r++)a[r]==e.optionalmarker.start?a[r]=e.optionalmarker.end:a[r]==e.optionalmarker.end?a[r]=e.optionalmarker.start:a[r]==e.groupmarker.start?a[r]=e.groupmarker.end:a[r]==e.groupmarker.end&&(a[r]=e.groupmarker.start);a=a.join("")}if(void 0!=a&&""!=a){if(1==a.length&&0==e.greedy&&0!=e.repeat&&(e.placeholder=""),e.repeat>0||"*"==e.repeat||"+"==e.repeat){var s="*"==e.repeat?0:"+"==e.repeat?1:e.repeat;a=e.groupmarker.start+a+e.groupmarker.end+e.quantifiermarker.start+s+","+e.repeat+e.quantifiermarker.end}return void 0==t.inputmask.masksCache[a]&&(t.inputmask.masksCache[a]={mask:a,maskToken:i(a),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:n}),t.extend(!0,{},t.inputmask.masksCache[a])}}var r=void 0;if(t.isFunction(e.mask)&&(e.mask=e.mask.call(this,e)),t.isArray(e.mask))if(a)r=[],t.each(e.mask,function(e,a){r.push(void 0==a.mask||t.isFunction(a.mask)?n(a.toString(),a):n(a.mask.toString(),a))});else{e.keepStatic=void 0==e.keepStatic?!0:e.keepStatic;var s="(";t.each(e.mask,function(e,a){s.length>1&&(s+=")|("),s+=void 0==a.mask||t.isFunction(a.mask)?a.toString():a.mask.toString()}),s+=")",r=n(s,e.mask)}else e.mask&&(r=void 0==e.mask.mask||t.isFunction(e.mask.mask)?n(e.mask.toString(),e.mask):n(e.mask.mask.toString(),e.mask));return r}function r(i,n,r){function o(t,e,a){e=e||0;var i,n,r,s=[],o=0;do{if(t===!0&&f().validPositions[o]){var l=f().validPositions[o];n=l.match,i=l.locator.slice(),s.push(a===!0?l.input:O(o,n))}else{if(e>o){var c=w(o,i,o-1);r=c[0]}else r=k(o,i,o-1);n=r.match,i=r.locator.slice(),s.push(O(o,n))}o++}while((void 0==rt||rt>o-1)&&null!=n.fn||null==n.fn&&""!=n.def||e>=o);return s.pop(),s}function f(){return n}function v(t){var e=f();e.buffer=void 0,e.tests={},t!==!0&&(e._buffer=void 0,e.validPositions={},e.p=0)}function m(t){var e=f(),a=-1,i=e.validPositions;void 0==t&&(t=-1);var n=a,r=a;for(var s in i){var o=parseInt(s);(-1==t||null!=i[o].match.fn)&&(t>o&&(n=o),o>=t&&(r=o))}return a=t-n>1||t>r?n:r}function g(e,a,i){if(r.insertMode&&void 0!=f().validPositions[e]&&void 0==i){var n,s=t.extend(!0,{},f().validPositions),o=m();for(n=e;o>=n;n++)delete f().validPositions[n];f().validPositions[e]=a;var l,c=!0;for(n=e;o>=n;n++){var h=s[n];if(void 0!=h){var u=f().validPositions;l=!r.keepStatic&&(void 0!=u[n+1]&&w(n+1,u[n].locator.slice(),n).length>1||u[n]&&void 0!=u[n].alternation)?n+1:E(n),c=x(l,h.match.def)?c&&P(l,h.input,!0,!0)!==!1:null==h.match.fn}if(!c)break}if(!c)return f().validPositions=t.extend(!0,{},s),!1}else f().validPositions[e]=a;return!0}function y(t,e){var a,i=t;for(void 0!=f().validPositions[t]&&f().validPositions[t].input==r.radixPoint&&(e++,i++),a=i;e>a;a++)void 0==f().validPositions[a]||f().validPositions[a].input==r.radixPoint&&a!=m()||delete f().validPositions[a];for(a=e;a<=m();){var n=f().validPositions[a],s=f().validPositions[i];void 0!=n&&void 0==s?(x(i,n.match.def)&&P(i,n.input,!0)!==!1&&(delete f().validPositions[a],a++),i++):a++}var o=m();o>=t&&void 0!=f().validPositions[o]&&f().validPositions[o].input==r.radixPoint&&delete f().validPositions[o],v(!0)}function k(e,a,i){function n(e,a,i){for(var n=!1,r=e.locator[a].toString().split(","),s=0;s<r.length;s++)if(-1!=t.inArray(r[s],i)){n=!0;break}return n}for(var s,o=w(e,a,i),l=m(),c=f().validPositions[l]||w(0)[0],h=void 0!=c.alternation?c.locator[c.alternation].split(","):[],u=0;u<o.length&&(s=o[u],!(r.greedy||s.match&&(s.match.optionality===!1||s.match.newBlockMarker===!1)&&s.match.optionalQuantifier!==!0&&(void 0==c.alternation||void 0!=s.locator[c.alternation]&&n(s,c.alternation,h))));u++);return s}function b(t){return f().validPositions[t]?f().validPositions[t].match:w(t)[0].match}function x(t,e){for(var a=!1,i=w(t),n=0;n<i.length;n++)if(i[n].match&&i[n].match.def==e){a=!0;break}return a}function w(e,a,i){function n(a,i,s,l){function u(s,l,p){if(o>1e4)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+f().mask),!0;if(o==e&&void 0==s.matches)return c.push({match:s,locator:l.reverse()}),!0;if(void 0!=s.matches){if(s.isGroup&&p!==!0){if(s=u(a.matches[d+1],l))return!0}else if(s.isOptional){var v=s;if(s=n(s,i,l,p)){var m=c[c.length-1].match,g=0==t.inArray(m,v.matches);g&&(h=!0),o=e}}else if(s.isAlternator){var y,k=s,b=[],x=c.slice(),w=l.length,_=i.length>0?i.shift():-1;if(-1==_||"string"==typeof _){var C,D=o,T=i.slice();"string"==typeof _&&(C=_.split(","));for(var P=0;P<k.matches.length;P++){c=[],s=u(k.matches[P],[P].concat(l),p)||s,y=c.slice(),o=D,c=[];for(var M=0;M<T.length;M++)i[M]=T[M];for(var S=0;S<y.length;S++)for(var E=y[S],A=0;A<b.length;A++){var F=b[A];if(E.match.mask==F.match.mask&&("string"!=typeof _||-1!=t.inArray(E.locator[w].toString(),C))){y.splice(S,1),F.locator[w]=F.locator[w]+","+E.locator[w],F.alternation=w;break}}b=b.concat(y)}"string"==typeof _&&(b=t.map(b,function(e,a){if(isFinite(a)){var i,n=e.locator[w].toString().split(",");e.locator[w]=void 0,e.alternation=void 0;for(var r=0;r<n.length;r++)i=-1!=t.inArray(n[r],C),i&&(void 0!=e.locator[w]?(e.locator[w]+=",",e.alternation=w,e.locator[w]+=n[r]):e.locator[w]=parseInt(n[r]));if(void 0!=e.locator[w])return e}})),c=x.concat(b),h=!0}else s=u(k.matches[_],[_].concat(l),p);if(s)return!0}else if(s.isQuantifier&&p!==!0){var U=s;r.greedy=r.greedy&&isFinite(U.quantifier.max);for(var O=i.length>0&&p!==!0?i.shift():0;O<(isNaN(U.quantifier.max)?O+1:U.quantifier.max)&&e>=o;O++){var R=a.matches[t.inArray(U,a.matches)-1];if(s=u(R,[O].concat(l),!0)){var m=c[c.length-1].match;m.optionalQuantifier=O>U.quantifier.min-1;var g=0==t.inArray(m,R.matches);if(g){if(O>U.quantifier.min-1){h=!0,o=e;break}return!0}return!0}}}else if(s=n(s,i,l,p))return!0}else o++}for(var d=i.length>0?i.shift():0;d<a.matches.length;d++)if(a.matches[d].isQuantifier!==!0){var p=u(a.matches[d],[d].concat(s),l);if(p&&o==e)return p;if(o>e)break}}var s=f().maskToken,o=a?i:0,l=a||[0],c=[],h=!1;if(void 0==a){for(var u,d=e-1;void 0==(u=f().validPositions[d])&&d>-1;)d--;if(void 0!=u&&d>-1)o=d,l=u.locator.slice();else{for(d=e-1;void 0==(u=f().tests[d])&&d>-1;)d--;void 0!=u&&d>-1&&(o=d,l=u[0].locator.slice())}}for(var p=l.shift();p<s.length;p++){var v=n(s[p],l,[p]);if(v&&o==e||o>e)break}return(0==c.length||h)&&c.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),f().tests[e]=t.extend(!0,[],c),f().tests[e]}function _(){return void 0==f()._buffer&&(f()._buffer=o(!1,1)),f()._buffer}function C(){return void 0==f().buffer&&(f().buffer=o(!0,m(),!0)),f().buffer}function D(t,e){var a=C().slice();if(t===!0)v(),t=0,e=a.length;else for(var i=t;e>i;i++)delete f().validPositions[i],delete f().tests[i];for(var i=t;e>i;i++)a[i]!=r.skipOptionalPartCharacter&&P(i,a[i],!0,!0)}function T(t,e){switch(e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t}function P(e,a,i,n){function s(e,a,i,n){var s=!1;return t.each(w(e),function(o,l){for(var c=l.match,h=a?1:0,u="",d=(C(),c.cardinality);d>h;d--)u+=F(e-(d-1));if(a&&(u+=a),s=null!=c.fn?c.fn.test(u,f(),e,i,r):a!=c.def&&a!=r.skipOptionalPartCharacter||""==c.def?!1:{c:c.def,pos:e},s!==!1){var p=void 0!=s.c?s.c:a;p=p==r.skipOptionalPartCharacter&&null===c.fn?c.def:p;var k=e;if(void 0!=s.remove&&y(s.remove,s.remove+1),s.refreshFromBuffer){var b=s.refreshFromBuffer;if(i=!0,D(b===!0?b:b.start,b.end),void 0==s.pos&&void 0==s.c)return s.pos=m(),!1;if(k=void 0!=s.pos?s.pos:e,k!=e)return s=t.extend(s,P(k,p,!0)),!1}else if(s!==!0&&void 0!=s.pos&&s.pos!=e&&(k=s.pos,D(e,k),k!=e))return s=t.extend(s,P(k,p,!0)),!1;return 1!=s&&void 0==s.pos&&void 0==s.c?!1:(o>0&&v(!0),g(k,t.extend({},l,{input:T(p,c)}),n)||(s=!1),!1)}}),s}function o(e,a,i,n){var s,o,l=t.extend(!0,{},f().validPositions);for(s=m();s>=0;s--)if(f().validPositions[s]&&void 0!=f().validPositions[s].alternation){o=f().validPositions[s].alternation;break}if(void 0!=o)for(var c in f().validPositions)if(parseInt(c)>parseInt(s)&&void 0===f().validPositions[c].alternation){for(var h=f().validPositions[c],u=h.locator[o],d=f().validPositions[s].locator[o].split(","),p=0;p<d.length;p++)if(u<d[p]){for(var g,y,k=c-1;k>=0;k--)if(g=f().validPositions[k],void 0!=g){y=g.locator[o],g.locator[o]=d[p];break}if(u!=g.locator[o]){for(var b=C().slice(),x=c;x<m()+1;x++)delete f().validPositions[x],delete f().tests[x];v(!0),r.keepStatic=!r.keepStatic;for(var x=c;x<b.length;x++)b[x]!=r.skipOptionalPartCharacter&&P(m()+1,b[x],!1,!0);g.locator[o]=y;var w=P(e,a,i,n);if(r.keepStatic=!r.keepStatic,w)return w;v(),f().validPositions=t.extend(!0,{},l)}}break}return!1}i=i===!0;for(var l=C(),c=e-1;c>-1&&(!f().validPositions[c]||null!=f().validPositions[c].match.fn);c--)void 0==f().validPositions[c]&&(!M(c)||l[c]!=O(c))&&w(c).length>1&&s(c,l[c],!0);var h=e,u=!1;if(n&&h>=S()&&v(!0),h<S()&&(u=s(h,a,i,n),!i&&u===!1)){var d=f().validPositions[h];if(!d||null!=d.match.fn||d.match.def!=a&&a!=r.skipOptionalPartCharacter){if((r.insertMode||void 0==f().validPositions[E(h)])&&!M(h))for(var p=h+1,k=E(h);k>=p;p++)if(u=s(p,a,i,n),u!==!1){h=p;break}}else u={caret:E(h)}}return u===!1&&r.keepStatic&&K(l)&&(u=o(e,a,i,n)),u===!0&&(u={pos:h}),u}function M(t){var e=b(t);return null!=e.fn?e.fn:!1}function S(){var t;if(rt=nt.prop("maxLength"),-1==rt&&(rt=void 0),0==r.greedy){var e,a=m(),i=f().validPositions[a],n=void 0!=i?i.locator.slice():void 0;for(e=a+1;void 0==i||null!=i.match.fn||null==i.match.fn&&""!=i.match.def;e++)i=k(e,n,e-1),n=i.locator.slice();t=e}else t=C().length;return void 0==rt||rt>t?t:rt}function E(t){var e=S();if(t>=e)return e;for(var a=t;++a<e&&!M(a)&&(r.nojumps!==!0||r.nojumpsThreshold>a););return a}function A(t){var e=t;if(0>=e)return 0;for(;--e>0&&!M(e););return e}function F(t){return void 0==f().validPositions[t]?O(t):f().validPositions[t].input}function U(t,e,a){t._valueSet(e.join("")),void 0!=a&&Y(t,a)}function O(e,a){a=a||b(e);var i=t.isFunction(a.placeholder)?a.placeholder.call(this,r):a.placeholder;return void 0!=i?i:null==a.fn?a.def:r.placeholder.charAt(e%r.placeholder.length)}function R(e,a,i,n,s){var o=void 0!=n?n.slice():I(e._valueGet()).split("");if(v(),a&&e._valueSet(""),t.each(o,function(a,n){if(s===!0){var r=m(),o=-1==r?a:E(r);-1==t.inArray(n,_().slice(r+1,o))&&Q.call(e,void 0,!0,n.charCodeAt(0),!1,i,i?a:f().p)}else Q.call(e,void 0,!0,n.charCodeAt(0),!1,i,i?a:f().p),i=i||a>0&&a>f().p}),a){var l=r.onKeyPress.call(this,void 0,C(),0,r);q(e,l),U(e,C(),t(e).is(":focus")?E(m(0)):void 0)}}function j(e){return t.inputmask.escapeRegex.call(this,e)}function I(t){return t.replace(new RegExp("("+j(_().join(""))+")*$"),"")}function N(e){if(e.data("_inputmask")&&!e.hasClass("hasDatepicker")){var a=[],i=f().validPositions;for(var n in i)i[n].match&&null!=i[n].match.fn&&a.push(i[n].input);var s=(st?a.reverse():a).join(""),o=(st?C().slice().reverse():C()).join("");return t.isFunction(r.onUnMask)&&(s=r.onUnMask.call(e,o,s,r)||s),s}return e[0]._valueGet()}function G(t){if(st&&"number"==typeof t&&(!r.greedy||""!=r.placeholder)){var e=C().length;t=e-t}return t}function Y(e,a,i){var n,s=e.jquery&&e.length>0?e[0]:e;if("number"!=typeof a){var o=t(s).data("_inputmask");return!t(s).is(":visible")&&o&&void 0!=o.caret?(a=o.caret.begin,i=o.caret.end):s.setSelectionRange?(a=s.selectionStart,i=s.selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),a=0-n.duplicate().moveStart("character",-1e5),i=a+n.text.length),a=G(a),i=G(i),{begin:a,end:i}}a=G(a),i=G(i),i="number"==typeof i?i:a;var o=t(s).data("_inputmask")||{};o.caret={begin:a,end:i},t(s).data("_inputmask",o),t(s).is(":visible")&&(s.scrollLeft=s.scrollWidth,0==r.insertMode&&a==i&&i++,s.setSelectionRange?(s.selectionStart=a,s.selectionEnd=i):s.createTextRange&&(n=s.createTextRange(),n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",a),n.select()))}function $(e){var a,i,n=C(),r=n.length,s=m(),o={},l=f().validPositions[s],c=void 0!=l?l.locator.slice():void 0;for(a=s+1;a<n.length;a++)i=k(a,c,a-1),c=i.locator.slice(),o[a]=t.extend(!0,{},i);var h=l&&void 0!=l.alternation?l.locator[l.alternation].split(","):[];for(a=r-1;a>s&&(i=o[a].match,(i.optionality||i.optionalQuantifier||l&&void 0!=l.alternation&&void 0!=o[a].locator[l.alternation]&&-1!=t.inArray(o[a].locator[l.alternation].toString(),h))&&n[a]==O(a,i));a--)r--;return e?{l:r,def:o[r]?o[r].match:void 0}:r}function H(t){for(var e=C(),a=e.slice(),i=$(),n=a.length-1;n>i&&!M(n);n--);a.splice(i,n+1-i),U(t,a)}function K(e){if(t.isFunction(r.isComplete))return r.isComplete.call(nt,e,r);if("*"!=r.repeat){var a=!1,i=$(!0),n=A(i.l),s=m();if(s==n&&(void 0==i.def||i.def.newBlockMarker||i.def.optionalQuantifier)){a=!0;for(var o=0;n>=o;o++){var l=M(o);if(l&&(void 0==e[o]||e[o]==O(o))||!l&&e[o]!=O(o)){a=!1;break}}}return a}}function B(t,e){return st?t-e>1||t-e==1&&r.insertMode:e-t>1||e-t==1&&r.insertMode}function W(e){var a=t._data(e).events;t.each(a,function(e,a){t.each(a,function(t,e){if("inputmask"==e.namespace&&"setvalue"!=e.type){var a=e.handler;e.handler=function(t){return this.readOnly||this.disabled?void t.preventDefault:a.apply(this,arguments)}}})})}function V(e){function a(e){if(void 0==t.valHooks[e]||1!=t.valHooks[e].inputmaskpatch){var a=t.valHooks[e]&&t.valHooks[e].get?t.valHooks[e].get:function(t){return t.value},i=t.valHooks[e]&&t.valHooks[e].set?t.valHooks[e].set:function(t,e){return t.value=e,t};t.valHooks[e]={get:function(e){var i=t(e);if(i.data("_inputmask")){if(i.data("_inputmask").opts.autoUnmask)return i.inputmask("unmaskedvalue");var n=a(e),r=i.data("_inputmask"),s=r.maskset,o=s._buffer;return o=o?o.join(""):"",n!=o?n:""}return a(e)},set:function(e,a){var n,r=t(e),s=r.data("_inputmask");return s?(n=i(e,t.isFunction(s.opts.onBeforeMask)?s.opts.onBeforeMask.call(ft,a,s.opts)||a:a),r.triggerHandler("setvalue.inputmask")):n=i(e,a),n},inputmaskpatch:!0}}}function i(){var e=t(this),a=t(this).data("_inputmask");return a?a.opts.autoUnmask?e.inputmask("unmaskedvalue"):s.call(this)!=_().join("")?s.call(this):"":s.call(this)}function n(e){var a=t(this).data("_inputmask");a?(o.call(this,t.isFunction(a.opts.onBeforeMask)?a.opts.onBeforeMask.call(ft,e,a.opts)||e:e),t(this).triggerHandler("setvalue.inputmask")):o.call(this,e)}function r(e){t(e).bind("mouseenter.inputmask",function(){var e=t(this),a=this,i=a._valueGet();""!=i&&i!=C().join("")&&e.trigger("setvalue")});var a=t._data(e).events,i=a.mouseover;if(i){for(var n=i[i.length-1],r=i.length-1;r>0;r--)i[r]=i[r-1];i[0]=n}}var s,o;e._valueGet||(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(e,"value"),document.__lookupGetter__&&e.__lookupGetter__("value")?(s=e.__lookupGetter__("value"),o=e.__lookupSetter__("value"),e.__defineGetter__("value",i),e.__defineSetter__("value",n)):(s=function(){return e.value},o=function(t){e.value=t},a(e.type),r(e)),e._valueGet=function(){return st?s.call(this).split("").reverse().join(""):s.call(this)},e._valueSet=function(t){o.call(this,st?t.split("").reverse().join(""):t)})}function L(e,a,i){function n(){if(r.keepStatic){v(!0);var t,a=[];for(t=m();t>=0;t--)if(f().validPositions[t]){if(void 0!=f().validPositions[t].alternation)break;a.push(f().validPositions[t].input),delete f().validPositions[t]}if(t>0)for(;a.length>0;)f().p=E(m()),Q.call(e,void 0,!0,a.pop().charCodeAt(0),!1,!1,f().p)}}if((r.numericInput||st)&&(a==t.inputmask.keyCode.BACKSPACE?a=t.inputmask.keyCode.DELETE:a==t.inputmask.keyCode.DELETE&&(a=t.inputmask.keyCode.BACKSPACE),st)){var s=i.end;i.end=i.begin,i.begin=s}a==t.inputmask.keyCode.BACKSPACE&&i.end-i.begin<=1?i.begin=A(i.begin):a==t.inputmask.keyCode.DELETE&&i.begin==i.end&&i.end++,y(i.begin,i.end),n();var o=m(i.begin);o<i.begin?(-1==o&&v(),f().p=E(o)):f().p=i.begin}function q(t,e,a){if(e&&e.refreshFromBuffer){var i=e.refreshFromBuffer;D(i===!0?i:i.start,i.end),v(!0),void 0!=a&&(U(t,C()),Y(t,e.caret||a.begin,e.caret||a.end))}}function z(a){ot=!1;var i=this,n=t(i),s=a.keyCode,o=Y(i);s==t.inputmask.keyCode.BACKSPACE||s==t.inputmask.keyCode.DELETE||l&&127==s||a.ctrlKey&&88==s&&!e("cut")?(a.preventDefault(),88==s&&(it=C().join("")),L(i,s,o),U(i,C(),f().p),i._valueGet()==_().join("")&&n.trigger("cleared"),r.showTooltip&&n.prop("title",f().mask)):s==t.inputmask.keyCode.END||s==t.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var t=E(m());r.insertMode||t!=S()||a.shiftKey||t--,Y(i,a.shiftKey?o.begin:t,t)},0):s==t.inputmask.keyCode.HOME&&!a.shiftKey||s==t.inputmask.keyCode.PAGE_UP?Y(i,0,a.shiftKey?o.begin:0):s==t.inputmask.keyCode.ESCAPE||90==s&&a.ctrlKey?(R(i,!0,!1,it.split("")),n.click()):s!=t.inputmask.keyCode.INSERT||a.shiftKey||a.ctrlKey?0!=r.insertMode||a.shiftKey||(s==t.inputmask.keyCode.RIGHT?setTimeout(function(){var t=Y(i);Y(i,t.begin)},0):s==t.inputmask.keyCode.LEFT&&setTimeout(function(){var t=Y(i);Y(i,st?t.begin+1:t.begin-1)},0)):(r.insertMode=!r.insertMode,Y(i,r.insertMode||o.begin!=S()?o.begin:o.begin-1));var c=Y(i),h=r.onKeyDown.call(this,a,C(),c.begin,r);q(i,h,c),ct=-1!=t.inArray(s,r.ignorables)}function Q(e,a,i,n,s,o){if(void 0==i&&ot)return!1;ot=!0;var l=this,c=t(l);e=e||window.event;var i=a?i:e.which||e.charCode||e.keyCode;if(!(a===!0||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||ct))return!0;if(i){a!==!0&&46==i&&0==e.shiftKey&&","==r.radixPoint&&(i=44);var h,u=a?{begin:o,end:o}:Y(l),d=String.fromCharCode(i),p=B(u.begin,u.end);p&&(f().undoPositions=t.extend(!0,{},f().validPositions),L(l,t.inputmask.keyCode.DELETE,u),r.insertMode||(r.insertMode=!r.insertMode,g(u.begin,s),r.insertMode=!r.insertMode),p=!r.multi),f().writeOutBuffer=!0;var m=st&&!p?u.end:u.begin,y=P(m,d,s);if(y!==!1){if(y!==!0&&(m=void 0!=y.pos?y.pos:m,d=void 0!=y.c?y.c:d),v(!0),void 0!=y.caret)h=y.caret;else{var k=f().validPositions;h=!r.keepStatic&&(void 0!=k[m+1]&&w(m+1,k[m].locator.slice(),m).length>1||void 0!=k[m].alternation)?m+1:E(m)}f().p=h}if(n!==!1){var b=this;if(setTimeout(function(){r.onKeyValidation.call(b,y,r)},0),f().writeOutBuffer&&y!==!1){var x=C();U(l,x,a?void 0:r.numericInput?A(h):h),a!==!0&&setTimeout(function(){K(x)===!0&&c.trigger("complete"),lt=!0,c.trigger("input")},0)}else p&&(f().buffer=void 0,f().validPositions=f().undoPositions)}else p&&(f().buffer=void 0,f().validPositions=f().undoPositions);if(r.showTooltip&&c.prop("title",f().mask),e&&1!=a){e.preventDefault();var _=Y(l),D=r.onKeyPress.call(this,e,C(),_.begin,r);q(l,D,_)}}}function X(e){var a=t(this),i=this,n=e.keyCode,s=C(),o=Y(i),l=r.onKeyUp.call(this,e,s,o.begin,r);q(i,l,o),n==t.inputmask.keyCode.TAB&&r.showMaskOnFocus&&(a.hasClass("focus-inputmask")&&0==i._valueGet().length?(v(),s=C(),U(i,s),Y(i,0),it=C().join("")):(U(i,s),Y(i,G(0),G(S()))))}function J(e){if(lt===!0&&"input"==e.type)return lt=!1,!0;var a=this,i=t(a),n=a._valueGet(),s=Y(a);if("propertychange"==e.type&&a._valueGet().length<=S())return!0;"paste"==e.type&&(window.clipboardData&&window.clipboardData.getData?n=n.substr(0,s.begin)+window.clipboardData.getData("Text")+n.substr(s.end,n.length):e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(n=n.substr(0,s.begin)+e.originalEvent.clipboardData.getData("text/plain")+n.substr(s.end,n.length)));var o=t.isFunction(r.onBeforePaste)?r.onBeforePaste.call(a,n,r)||n:n;return R(a,!0,!1,st?o.split("").reverse():o.split(""),!0),i.click(),K(C())===!0&&i.trigger("complete"),!1}function Z(e){if(lt===!0&&"input"==e.type)return lt=!1,!0;var a=this,i=Y(a),n=a._valueGet();n=n.replace(new RegExp("("+j(_().join(""))+")*"),""),i.begin>n.length&&(Y(a,n.length),i=Y(a)),C().length-n.length!=1||n.charAt(i.begin)==C()[i.begin]||n.charAt(i.begin+1)==C()[i.begin]||M(i.begin)||(e.keyCode=t.inputmask.keyCode.BACKSPACE,z.call(a,e)),e.preventDefault()}function tt(e){if(lt===!0&&"input"==e.type)return lt=!1,!0;var a=this,i=Y(a),n=a._valueGet();Y(a,i.begin-1);var s=t.Event("keypress");s.which=n.charCodeAt(i.begin-1),ot=!1,ct=!1,Q.call(a,s,void 0,void 0,!1);var o=f().p;U(a,C(),r.numericInput?A(o):o),e.preventDefault()}function et(e){lt=!0;var a=this;return setTimeout(function(){Y(a,Y(a).begin-1);var i=t.Event("keypress");i.which=e.originalEvent.data.charCodeAt(0),ot=!1,ct=!1,Q.call(a,i,void 0,void 0,!1);var n=f().p;U(a,C(),r.numericInput?A(n):n)},0),!1}function at(e){if(nt=t(e),nt.is(":input")&&a(nt.attr("type"))){if(nt.data("_inputmask",{maskset:n,opts:r,isRTL:!1}),r.showTooltip&&nt.prop("title",f().mask),("rtl"==e.dir||r.rightAlign)&&nt.css("text-align","right"),"rtl"==e.dir||r.numericInput){e.dir="ltr",nt.removeAttr("dir");var i=nt.data("_inputmask");i.isRTL=!0,nt.data("_inputmask",i),st=!0}nt.unbind(".inputmask"),nt.removeClass("focus-inputmask"),nt.closest("form").bind("submit",function(){it!=C().join("")&&nt.change(),nt[0]._valueGet&&nt[0]._valueGet()==_().join("")&&nt[0]._valueSet(""),r.autoUnmask&&r.removeMaskOnSubmit&&nt.inputmask("remove")}).bind("reset",function(){setTimeout(function(){nt.trigger("setvalue")},0)}),nt.bind("mouseenter.inputmask",function(){var e=t(this),a=this;!e.hasClass("focus-inputmask")&&r.showMaskOnHover&&a._valueGet()!=C().join("")&&U(a,C())}).bind("blur.inputmask",function(){var e=t(this),a=this;if(e.data("_inputmask")){var i=a._valueGet(),n=C();e.removeClass("focus-inputmask"),it!=C().join("")&&e.change(),r.clearMaskOnLostFocus&&""!=i&&(i==_().join("")?a._valueSet(""):H(a)),K(n)===!1&&(e.trigger("incomplete"),r.clearIncomplete&&(v(),r.clearMaskOnLostFocus?a._valueSet(""):(n=_().slice(),U(a,n))))}}).bind("focus.inputmask",function(){var e=t(this),a=this,i=a._valueGet();r.showMaskOnFocus&&!e.hasClass("focus-inputmask")&&(!r.showMaskOnHover||r.showMaskOnHover&&""==i)&&a._valueGet()!=C().join("")&&U(a,C(),E(m())),e.addClass("focus-inputmask"),it=C().join("")}).bind("mouseleave.inputmask",function(){var e=t(this),a=this;r.clearMaskOnLostFocus&&(e.hasClass("focus-inputmask")||a._valueGet()==e.attr("placeholder")||(a._valueGet()==_().join("")||""==a._valueGet()?a._valueSet(""):H(a)))}).bind("click.inputmask",function(){var e=this;t(e).is(":focus")&&setTimeout(function(){var a=Y(e);if(a.begin==a.end)if(r.radixFocus&&""!=r.radixPoint&&-1!=t.inArray(r.radixPoint,C())&&C().join("")==_().join(""))Y(e,t.inArray(r.radixPoint,C()));else{var i=st?G(a.begin):a.begin,n=E(m(i));n>i?Y(e,M(i)?i:E(i)):Y(e,n)}},0)}).bind("dblclick.inputmask",function(){var t=this;setTimeout(function(){Y(t,0,E(m()))},0)}).bind(p+".inputmask dragdrop.inputmask drop.inputmask",J).bind("setvalue.inputmask",function(){var t=this;R(t,!0,!1,void 0,!0),it=C().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&t._valueGet()==_().join("")&&t._valueSet("")}).bind("cut.inputmask",function(e){lt=!0;var a=this,i=t(a),n=Y(a);L(a,t.inputmask.keyCode.DELETE,n);var s=r.onKeyPress.call(this,e,C(),f().p,r);q(a,s,{begin:f().p,end:f().p}),a._valueGet()==_().join("")&&i.trigger("cleared"),r.showTooltip&&i.prop("title",f().mask)}).bind("complete.inputmask",r.oncomplete).bind("incomplete.inputmask",r.onincomplete).bind("cleared.inputmask",r.oncleared),nt.bind("keydown.inputmask",z).bind("keypress.inputmask",Q).bind("keyup.inputmask",X).bind("compositionupdate.inputmask",et),"paste"!==p||s||nt.bind("input.inputmask",tt),s&&nt.bind("input.inputmask",J),(c||u||h||d)&&("input"==p&&nt.unbind(p+".inputmask"),nt.bind("input.inputmask",Z)),V(e);var o=t.isFunction(r.onBeforeMask)?r.onBeforeMask.call(e,e._valueGet(),r)||e._valueGet():e._valueGet();R(e,!0,!1,o.split(""),!0),it=C().join("");var l;try{l=document.activeElement}catch(g){}K(C())===!1&&r.clearIncomplete&&v(),r.clearMaskOnLostFocus?C().join("")==_().join("")?e._valueSet(""):H(e):U(e,C()),l===e&&(nt.addClass("focus-inputmask"),Y(e,E(m()))),W(e)}}var it,nt,rt,st=!1,ot=!1,lt=!1,ct=!1;if(void 0!=i)switch(i.action){case"isComplete":return nt=t(i.el),n=nt.data("_inputmask").maskset,r=nt.data("_inputmask").opts,K(i.buffer);case"unmaskedvalue":return nt=i.$input,n=nt.data("_inputmask").maskset,r=nt.data("_inputmask").opts,st=i.$input.data("_inputmask").isRTL,N(i.$input);case"mask":it=C().join(""),at(i.el);break;case"format":nt=t({}),nt.data("_inputmask",{maskset:n,opts:r,isRTL:r.numericInput}),r.numericInput&&(st=!0);var ht=(t.isFunction(r.onBeforeMask)?r.onBeforeMask.call(nt,i.value,r)||i.value:i.value).split("");return R(nt,!1,!1,st?ht.reverse():ht,!0),r.onKeyPress.call(this,void 0,C(),0,r),i.metadata?{value:st?C().slice().reverse().join(""):C().join(""),metadata:nt.inputmask("getmetadata")}:st?C().slice().reverse().join(""):C().join("");case"isValid":nt=t({}),nt.data("_inputmask",{maskset:n,opts:r,isRTL:r.numericInput}),r.numericInput&&(st=!0);var ht=i.value.split("");R(nt,!1,!0,st?ht.reverse():ht);for(var ut=C(),dt=$(),pt=ut.length-1;pt>dt&&!M(pt);pt--);return ut.splice(dt,pt+1-dt),K(ut)&&i.value==ut.join("");case"getemptymask":return nt=t(i.el),n=nt.data("_inputmask").maskset,r=nt.data("_inputmask").opts,_();case"remove":var ft=i.el;nt=t(ft),n=nt.data("_inputmask").maskset,r=nt.data("_inputmask").opts,ft._valueSet(N(nt)),nt.unbind(".inputmask"),nt.removeClass("focus-inputmask"),nt.removeData("_inputmask");var vt;Object.getOwnPropertyDescriptor&&(vt=Object.getOwnPropertyDescriptor(ft,"value")),vt&&vt.get?ft._valueGet&&Object.defineProperty(ft,"value",{get:ft._valueGet,set:ft._valueSet}):document.__lookupGetter__&&ft.__lookupGetter__("value")&&ft._valueGet&&(ft.__defineGetter__("value",ft._valueGet),ft.__defineSetter__("value",ft._valueSet));try{delete ft._valueGet,delete ft._valueSet}catch(mt){
ft._valueGet=void 0,ft._valueSet=void 0}break;case"getmetadata":if(nt=t(i.el),n=nt.data("_inputmask").maskset,r=nt.data("_inputmask").opts,t.isArray(n.metadata)){for(var gt,yt=m(),kt=yt;kt>=0;kt--)if(f().validPositions[kt]&&void 0!=f().validPositions[kt].alternation){gt=f().validPositions[kt].alternation;break}return void 0!=gt?n.metadata[f().validPositions[yt].locator[gt]]:n.metadata[0]}return n.metadata}}if(void 0===t.fn.inputmask){var s="function"==typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():new Function("/*@cc_on return @_jscript_version; @*/")()>=10,o=navigator.userAgent,l=null!==o.match(new RegExp("iphone","i")),c=null!==o.match(new RegExp("android.*safari.*","i")),h=null!==o.match(new RegExp("android.*chrome.*","i")),u=null!==o.match(new RegExp("android.*firefox.*","i")),d=/Kindle/i.test(o)||/Silk/i.test(o)||/KFTT/i.test(o)||/KFOT/i.test(o)||/KFJWA/i.test(o)||/KFJWI/i.test(o)||/KFSOWI/i.test(o)||/KFTHWA/i.test(o)||/KFTHWI/i.test(o)||/KFAPWA/i.test(o)||/KFAPWI/i.test(o),p=e("paste")?"paste":e("input")?"input":"propertychange";t.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:t.noop,onincomplete:t.noop,oncleared:t.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!0,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:t.noop,onKeyPress:t.noop,onKeyDown:t.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:t.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(t){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return t.replace(new RegExp("(\\"+e.join("|\\")+")","gim"),"\\$1")},format:function(e,a,s){var o=t.extend(!0,{},t.inputmask.defaults,a);return i(o.alias,a,o),r({action:"format",value:e,metadata:s},n(o),o)},isValid:function(e,a){var s=t.extend(!0,{},t.inputmask.defaults,a);return i(s.alias,a,s),r({action:"isValid",value:e},n(s),s)}},t.fn.inputmask=function(e,a,s,o,l){function c(e,a,n){var r=t(e);r.data("inputmask-alias")&&i(r.data("inputmask-alias"),{},a);for(var s in a){var o=r.data("inputmask-"+s.toLowerCase());void 0!=o&&("mask"==s&&0==o.indexOf("[")?(a[s]=o.replace(/[\s[\]]/g,"").split("','"),a[s][0]=a[s][0].replace("'",""),a[s][a[s].length-1]=a[s][a[s].length-1].replace("'","")):a[s]="boolean"==typeof o?o:o.toString(),n&&(n[s]=a[s]))}return a}s=s||r,o=o||"_inputmask";var h,u=t.extend(!0,{},t.inputmask.defaults,a);if("string"==typeof e)switch(e){case"mask":return i(u.alias,a,u),h=n(u,s!==r),void 0==h?this:this.each(function(){s({action:"mask",el:this},t.extend(!0,{},h),c(this,u))});case"unmaskedvalue":var d=t(this);return d.data(o)?s({action:"unmaskedvalue",$input:d}):d.val();case"remove":return this.each(function(){var e=t(this);e.data(o)&&s({action:"remove",el:this})});case"getemptymask":return this.data(o)?s({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data(o)?!this.data(o).opts.autoUnmask:!1;case"isComplete":return this.data(o)?s({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data(o)?s({action:"getmetadata",el:this}):void 0;case"_detectScope":return i(u.alias,a,u),void 0==l||i(l,a,u)||-1!=t.inArray(l,["mask","unmaskedvalue","remove","getemptymask","hasMaskedValue","isComplete","getmetadata","_detectScope"])||(u.mask=l),t.isFunction(u.mask)&&(u.mask=u.mask.call(this,u)),t.isArray(u.mask);default:return i(u.alias,a,u),i(e,a,u)||(u.mask=e),h=n(u,s!==r),void 0==h?this:this.each(function(){s({action:"mask",el:this},t.extend(!0,{},h),c(this,u))})}else{if("object"==typeof e)return u=t.extend(!0,{},t.inputmask.defaults,e),i(u.alias,e,u),h=n(u,s!==r),void 0==h?this:this.each(function(){s({action:"mask",el:this},t.extend(!0,{},h),c(this,u))});if(void 0==e)return this.each(function(){var e=t(this).attr("data-inputmask");if(e&&""!=e)try{e=e.replace(new RegExp("'","g"),'"');var n=t.parseJSON("{"+e+"}");t.extend(!0,n,a),u=t.extend(!0,{},t.inputmask.defaults,n),u=c(this,u),i(u.alias,n,u),u.alias=void 0,t(this).inputmask("mask",u,s)}catch(r){}if(t(this).attr("data-inputmask-mask")||t(this).attr("data-inputmask-alias")){u=t.extend(!0,{},t.inputmask.defaults,{});var o={};u=c(this,u,o),i(u.alias,o,u),u.alias=void 0,t(this).inputmask("mask",u,s)}})}}}return t.fn.inputmask}(jQuery),function(t){return t.extend(t.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),t.extend(t.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(e){var a=t.inputmask.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+a+"[01])")},val2:function(e){var a=t.inputmask.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9])"+a+"(0[1-9]|1[012]))|(30"+a+"(0[13-9]|1[012]))|(31"+a+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(t,e,a){if(isNaN(t))return!1;var i=parseInt(t.concat(e.toString().slice(t.length))),n=parseInt(t.concat(a.toString().slice(t.length)));return(isNaN(i)?!1:i>=e&&a>=i)||(isNaN(n)?!1:n>=e&&a>=n)},determinebaseyear:function(t,e,a){var i=(new Date).getFullYear();if(t>i)return t;if(i>e){for(var n=e.toString().slice(0,2),r=e.toString().slice(2,4);n+a>e;)n--;var s=n+r;return t>s?t:s}return i},onKeyUp:function(e){var a=t(this);if(e.ctrlKey&&e.keyCode==t.inputmask.keyCode.RIGHT){var i=new Date;a.val(i.getDate().toString()+(i.getMonth()+1).toString()+i.getFullYear().toString())}},definitions:{1:{validator:function(t,e,a,i,n){var r=n.regex.val1.test(t);return i||r||t.charAt(1)!=n.separator&&-1=="-./".indexOf(t.charAt(1))||!(r=n.regex.val1.test("0"+t.charAt(0)))?r:(e.buffer[a-1]="0",{refreshFromBuffer:{start:a-1,end:a},pos:a,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,a,i,n){isNaN(e.buffer[a+1])||(t+=e.buffer[a+1]);var r=1==t.length?n.regex.val1pre.test(t):n.regex.val1.test(t);return i||r||!(r=n.regex.val1.test("0"+t))?r:(e.buffer[a]="0",a++,{pos:a})},cardinality:1}]},2:{validator:function(t,e,a,i,n){var r=n.mask.indexOf("2")==n.mask.length-1?e.buffer.join("").substr(5,3):e.buffer.join("").substr(0,3);-1!=r.indexOf(n.placeholder[0])&&(r="01"+n.separator);var s=n.regex.val2(n.separator).test(r+t);if(!i&&!s&&(t.charAt(1)==n.separator||-1!="-./".indexOf(t.charAt(1)))&&(s=n.regex.val2(n.separator).test(r+"0"+t.charAt(0))))return e.buffer[a-1]="0",{refreshFromBuffer:{start:a-1,end:a},pos:a,c:t.charAt(0)};if(n.mask.indexOf("2")==n.mask.length-1&&s){var o=e.buffer.join("").substr(4,4)+t;if(o!=n.leapday)return!0;var l=parseInt(e.buffer.join("").substr(0,4),10);return l%4===0?l%100===0?l%400===0:!0:!1}return s},cardinality:2,prevalidator:[{validator:function(t,e,a,i,n){isNaN(e.buffer[a+1])||(t+=e.buffer[a+1]);var r=n.mask.indexOf("2")==n.mask.length-1?e.buffer.join("").substr(5,3):e.buffer.join("").substr(0,3);-1!=r.indexOf(n.placeholder[0])&&(r="01"+n.separator);var s=1==t.length?n.regex.val2pre(n.separator).test(r+t):n.regex.val2(n.separator).test(r+t);return i||s||!(s=n.regex.val2(n.separator).test(r+"0"+t))?s:(e.buffer[a]="0",a++,{pos:a})},cardinality:1}]},y:{validator:function(t,e,a,i,n){if(n.isInYearRange(t,n.yearrange.minyear,n.yearrange.maxyear)){var r=e.buffer.join("").substr(0,6);if(r!=n.leapday)return!0;var s=parseInt(t,10);return s%4===0?s%100===0?s%400===0:!0:!1}return!1},cardinality:4,prevalidator:[{validator:function(t,e,a,i,n){var r=n.isInYearRange(t,n.yearrange.minyear,n.yearrange.maxyear);if(!i&&!r){var s=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,t+"0").toString().slice(0,1);if(r=n.isInYearRange(s+t,n.yearrange.minyear,n.yearrange.maxyear))return e.buffer[a++]=s.charAt(0),{pos:a};if(s=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,t+"0").toString().slice(0,2),r=n.isInYearRange(s+t,n.yearrange.minyear,n.yearrange.maxyear))return e.buffer[a++]=s.charAt(0),e.buffer[a++]=s.charAt(1),{pos:a}}return r},cardinality:1},{validator:function(t,e,a,i,n){var r=n.isInYearRange(t,n.yearrange.minyear,n.yearrange.maxyear);if(!i&&!r){var s=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,t).toString().slice(0,2);if(r=n.isInYearRange(t[0]+s[1]+t[1],n.yearrange.minyear,n.yearrange.maxyear))return e.buffer[a++]=s.charAt(1),{pos:a};if(s=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,t).toString().slice(0,2),n.isInYearRange(s+t,n.yearrange.minyear,n.yearrange.maxyear)){var o=e.buffer.join("").substr(0,6);if(o!=n.leapday)r=!0;else{var l=parseInt(t,10);r=l%4===0?l%100===0?l%400===0:!0:!1}}else r=!1;if(r)return e.buffer[a-1]=s.charAt(0),e.buffer[a++]=s.charAt(1),e.buffer[a++]=t.charAt(0),{refreshFromBuffer:{start:a-3,end:a},pos:a}}return r},cardinality:2},{validator:function(t,e,a,i,n){return n.isInYearRange(t,n.yearrange.minyear,n.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){var a=t.inputmask.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+a+"[0-3])|(02"+a+"[0-2])")},val2:function(e){var a=t.inputmask.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+a+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+a+"30)|((0[13578]|1[02])"+a+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyUp:function(e){var a=t(this);if(e.ctrlKey&&e.keyCode==t.inputmask.keyCode.RIGHT){var i=new Date;a.val((i.getMonth()+1).toString()+i.getDate().toString()+i.getFullYear().toString())}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(e){var a=t(this);if(e.ctrlKey&&e.keyCode==t.inputmask.keyCode.RIGHT){var i=new Date;a.val(i.getFullYear().toString()+(i.getMonth()+1).toString()+i.getDate().toString())}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(t,e,a,i,n){if("24"==n.hourFormat&&24==parseInt(t,10))return e.buffer[a-1]="0",e.buffer[a]="0",{refreshFromBuffer:{start:a-1,end:a},c:"0"};var r=n.regex.hrs.test(t);if(!i&&!r&&(t.charAt(1)==n.timeseparator||-1!="-.:".indexOf(t.charAt(1)))&&(r=n.regex.hrs.test("0"+t.charAt(0))))return e.buffer[a-1]="0",e.buffer[a]=t.charAt(0),a++,{refreshFromBuffer:{start:a-2,end:a},pos:a,c:n.timeseparator};if(r&&"24"!==n.hourFormat&&n.regex.hrs24.test(t)){var s=parseInt(t,10);return 24==s?(e.buffer[a+5]="a",e.buffer[a+6]="m"):(e.buffer[a+5]="p",e.buffer[a+6]="m"),s-=12,10>s?(e.buffer[a]=s.toString(),e.buffer[a-1]="0"):(e.buffer[a]=s.toString().charAt(1),e.buffer[a-1]=s.toString().charAt(0)),{refreshFromBuffer:{start:a-1,end:a+6},c:e.buffer[a]}}return r},cardinality:2,prevalidator:[{validator:function(t,e,a,i,n){var r=n.regex.hrspre.test(t);return i||r||!(r=n.regex.hrs.test("0"+t))?r:(e.buffer[a]="0",a++,{pos:a})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(t,e,a,i,n){var r=n.regex.mspre.test(t);return i||r||!(r=n.regex.ms.test("0"+t))?r:(e.buffer[a]="0",a++,{pos:a})},cardinality:1}]},t:{validator:function(t,e,a,i,n){return n.regex.ampm.test(t+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}}),t.fn.inputmask}(jQuery),function(t){return t.extend(t.inputmask.defaults.definitions,{A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"}}),t.extend(t.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(){return!0},cardinality:8,prevalidator:function(){for(var t=[],e=8,a=0;e>a;a++)t[a]=function(){var t=a;return{validator:function(e,a,i,n,r){if(r.regex["urlpre"+(t+1)]){var s,o=e;t+1-e.length>0&&(o=a.buffer.join("").substring(0,t+1-e.length)+""+o);var l=r.regex["urlpre"+(t+1)].test(o);if(!n&&!l){for(i-=t,s=0;s<r.defaultPrefix.length;s++)a.buffer[i]=r.defaultPrefix[s],i++;for(s=0;s<o.length-1;s++)a.buffer[i]=o[s],i++;return{pos:i}}return l}return!1},cardinality:t}}();return t}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(t,e,a){return a-1>-1&&"."!=e.buffer[a-1]?(t=e.buffer[a-1]+t,t=a-2>-1&&"."!=e.buffer[a-2]?e.buffer[a-2]+t:"0"+t):t="00"+t,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(t)},cardinality:1}}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(t){return t=t.toLowerCase(),t.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}}}}),t.fn.inputmask}(jQuery),function(t){return t.extend(t.inputmask.defaults.aliases,{numeric:{mask:function(t){if(0!==t.repeat&&isNaN(t.integerDigits)&&(t.integerDigits=t.repeat),t.repeat=0,t.groupSeparator==t.radixPoint&&(t.groupSeparator="."==t.radixPoint?",":","==t.radixPoint?".":"")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),t.autoGroup=t.autoGroup&&""!=t.groupSeparator,t.autoGroup&&isFinite(t.integerDigits)){var e=Math.floor(t.integerDigits/t.groupSize),a=t.integerDigits%t.groupSize;t.integerDigits+=0==a?e-1:e}t.definitions[";"]=t.definitions["~"];var i=t.prefix;return i+="[+]",i+="~{1,"+t.integerDigits+"}",void 0!=t.digits&&(isNaN(t.digits)||parseInt(t.digits)>0)&&(i+=t.digitsOptional?"["+(t.decimalProtect?":":t.radixPoint)+";{"+t.digits+"}]":(t.decimalProtect?":":t.radixPoint)+";{"+t.digits+"}"),i+=t.suffix},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,postFormat:function(e,a,i,n){var r=!1,s=e[a];if(""==n.groupSeparator||-1!=t.inArray(n.radixPoint,e)&&a>=t.inArray(n.radixPoint,e)||new RegExp("[-+]").test(s))return{pos:a};var o=e.slice();s==n.groupSeparator&&(o.splice(a--,1),s=o[a]),i?o[a]="?":o.splice(a,0,"?");var l=o.join("");if(n.autoGroup||i&&-1!=l.indexOf(n.groupSeparator)){var c=t.inputmask.escapeRegex.call(this,n.groupSeparator);r=0==l.indexOf(n.groupSeparator),l=l.replace(new RegExp(c,"g"),"");var h=l.split(n.radixPoint);if(l=h[0],l!=n.prefix+"?0"&&l.length>=n.groupSize+n.prefix.length){r=!0;for(var u=new RegExp("([-+]?[\\d?]+)([\\d?]{"+n.groupSize+"})");u.test(l);)l=l.replace(u,"$1"+n.groupSeparator+"$2"),l=l.replace(n.groupSeparator+n.groupSeparator,n.groupSeparator)}h.length>1&&(l+=n.radixPoint+h[1])}e.length=l.length;for(var d=0,p=l.length;p>d;d++)e[d]=l.charAt(d);var f=t.inArray("?",e);return i?e[f]=s:e.splice(f,1),{pos:f,refreshFromBuffer:r}},onKeyDown:function(e,a,i,n){if(e.keyCode==t.inputmask.keyCode.TAB&&"0"!=n.placeholder.charAt(0)){var r=t.inArray(n.radixPoint,a);if(-1!=r&&isFinite(n.digits)){for(var s=1;s<=n.digits;s++)(void 0==a[r+s]||a[r+s]==n.placeholder.charAt(0))&&(a[r+s]="0");return{refreshFromBuffer:{start:++r,end:r+n.digits}}}}else if(n.autoGroup&&(e.keyCode==t.inputmask.keyCode.DELETE||e.keyCode==t.inputmask.keyCode.BACKSPACE)){var o=n.postFormat(a,i-1,!0,n);return o.caret=o.pos+1,o}},onKeyPress:function(t,e,a,i){if(i.autoGroup){var n=i.postFormat(e,a-1,!0,i);return n.caret=n.pos+1,n}},regex:{integerPart:function(){return new RegExp("[-+]?\\d+")},integerNPart:function(){return new RegExp("\\d+")}},signHandler:function(t,e,a,i,n){if(!i&&(n.allowMinus&&"-"===t||n.allowPlus&&"+"===t)){var r=e.join("").match(n.regex.integerPart(n));if(r&&r.length>0&&"0"!==r[r.index])return e[r.index]==("-"===t?"+":"-")?{pos:r.index,c:t,remove:r.index,caret:a}:e[r.index]==("-"===t?"-":"+")?{remove:r.index,caret:a-1}:{pos:r.index,c:t,caret:a+1}}return!1},radixHandler:function(e,a,i,n,r){if(!n&&e===r.radixPoint){var s=t.inArray(r.radixPoint,a.buffer),o=a.buffer.join("").match(r.regex.integerPart(r));if(-1!=s)return a.validPositions[s-1]?{caret:s+1}:{pos:o.index,c:o[0],caret:s+1}}return!1},leadingZeroHandler:function(e,a,i,n,r){var s=a.buffer.join("").match(r.regex.integerNPart(r)),o=t.inArray(r.radixPoint,a.buffer);if(s&&!n&&(-1==o||s.index<o))if(0==s[0].indexOf("0")&&i>=r.prefix.length){if(-1==o||o>=i&&void 0==a.validPositions[o])return a.buffer.splice(s.index,1),i=i>s.index?i-1:s.index,{pos:i,remove:s.index};if(i>s.index&&o>=i)return a.buffer.splice(s.index,1),i=i>s.index?i-1:s.index,{pos:i,remove:s.index}}else if("0"==e&&i<=s.index)return!1;return!0},definitions:{"~":{validator:function(e,a,i,n,r){var s=r.signHandler(e,a.buffer,i,n,r);if(!s&&(s=r.radixHandler(e,a,i,n,r),!s&&(s=n?new RegExp("[0-9"+t.inputmask.escapeRegex.call(this,r.groupSeparator)+"]").test(e):new RegExp("[0-9]").test(e),s===!0&&(s=r.leadingZeroHandler(e,a,i,n,r),s===!0)))){var o=t.inArray(r.radixPoint,a.buffer);r.digitsOptional===!1&&i>o&&!n&&(s={pos:i,remove:i}),s={pos:i}}return s},cardinality:1,prevalidator:null},"+":{validator:function(t,e,a,i,n){var r=n.signHandler(t,e.buffer,a,i,n);return r||(r=n.allowMinus&&"-"==t||n.allowPlus&&"+"==t),r},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(e,a,i,n,r){var s=r.signHandler(e,a.buffer,i,n,r);if(!s){var o="["+t.inputmask.escapeRegex.call(this,r.radixPoint)+"]";s=new RegExp(o).test(e),s&&a.validPositions[i]&&a.validPositions[i].match.placeholder==r.radixPoint&&(s={pos:i,remove:i})}return s},cardinality:1,prevalidator:null,placeholder:function(t){return t.radixPoint}}},insertMode:!0,autoUnmask:!1,onUnMask:function(e,a,i){var n=e.replace(i.prefix,"");return n=n.replace(i.suffix,""),n=n.replace(new RegExp(t.inputmask.escapeRegex.call(this,i.groupSeparator),"g"),"")},isComplete:function(e,a){var i=e.join(""),n=e.slice();if(a.postFormat(n,0,!0,a),n.join("")!=i)return!1;var r=i.replace(a.prefix,"");return r=r.replace(a.suffix,""),r=r.replace(new RegExp(t.inputmask.escapeRegex.call(this,a.groupSeparator),"g"),""),r=r.replace(t.inputmask.escapeRegex.call(this,a.radixPoint),"."),isFinite(r)},onBeforeMask:function(e,a){if(isFinite(e))return e.toString().replace(".",a.radixPoint);var i=e.match(/,/g),n=e.match(/\./g);return n&&i?n.length>i.length?(e=e.replace(/\./g,""),e=e.replace(",",a.radixPoint)):i.length>n.length&&(e=e.replace(/,/g,""),e=e.replace(".",a.radixPoint)):e=e.replace(new RegExp(t.inputmask.escapeRegex.call(this,a.groupSeparator),"g"),""),e}},currency:{prefix:"$ ",groupSeparator:",",radixPoint:".",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1,decimalProtect:!0},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0"}}),t.fn.inputmask}(jQuery),function(t){return t.extend(t.inputmask.defaults.aliases,{phone:{url:"phone-codes/phone-codes.js",maskInit:"+pp(pp)pppppppp",mask:function(e){e.definitions={p:{validator:function(){return!1},cardinality:1},"#":{validator:"[0-9]",cardinality:1}};var a=[];return t.ajax({url:e.url,async:!1,dataType:"json",success:function(t){a=t}}),a=a.sort(function(t,e){return(t.mask||t)<(e.mask||e)?-1:1}),a.splice(0,0,e.maskInit),a},nojumps:!0,nojumpsThreshold:1},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",maskInit:"+32(pp)pppppppp",nojumpsThreshold:4}}),t.fn.inputmask}(jQuery),function(t){return t.extend(t.inputmask.defaults.aliases,{Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(t,e){return new RegExp(e.regex).test(t.join(""))},definitions:{r:{validator:function(e,a,i,n,r){function s(t,e){this.matches=[],this.isGroup=t||!1,this.isQuantifier=e||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function o(){var t,e,a=new s,i=[];for(r.regexTokens=[];t=r.tokenizer.exec(r.regex);)switch(e=t[0],e.charAt(0)){case"(":i.push(new s(!0));break;case")":var n=i.pop();i.length>0?i[i.length-1].matches.push(n):a.matches.push(n);break;case"{":case"+":case"*":var o=new s(!1,!0);e=e.replace(/[{}]/g,"");var l=e.split(","),c=isNaN(l[0])?l[0]:parseInt(l[0]),h=1==l.length?c:isNaN(l[1])?l[1]:parseInt(l[1]);if(o.quantifier={min:c,max:h},i.length>0){var u=i[i.length-1].matches;if(t=u.pop(),!t.isGroup){var n=new s(!0);n.matches.push(t),t=n}u.push(t),u.push(o)}else{if(t=a.matches.pop(),!t.isGroup){var n=new s(!0);n.matches.push(t),t=n}a.matches.push(t),a.matches.push(o)}break;default:i.length>0?i[i.length-1].matches.push(e):a.matches.push(e)}a.matches.length>0&&r.regexTokens.push(a)}function l(e,a){var i=!1;a&&(h+="(",d++);for(var n=0;n<e.matches.length;n++){var r=e.matches[n];if(1==r.isGroup)i=l(r,!0);else if(1==r.isQuantifier){var s=t.inArray(r,e.matches),o=e.matches[s-1],c=h;if(isNaN(r.quantifier.max)){for(;r.repeaterPart&&r.repeaterPart!=h&&r.repeaterPart.length>h.length&&!(i=l(o,!0)););i=i||l(o,!0),i&&(r.repeaterPart=h),h=c+r.quantifier.max}else{for(var u=0,f=r.quantifier.max-1;f>u&&!(i=l(o,!0));u++);h=c+"{"+r.quantifier.min+","+r.quantifier.max+"}"}}else if(void 0!=r.matches)for(var v=0;v<r.length&&!(i=l(r[v],a));v++);else{var m;if("["==r.charAt(0)){m=h,m+=r;for(var g=0;d>g;g++)m+=")";var y=new RegExp("^("+m+")$");i=y.test(p)}else for(var k=0,b=r.length;b>k;k++)if("\\"!=r.charAt(k)){m=h,m+=r.substr(0,k+1),m=m.replace(/\|$/,"");for(var g=0;d>g;g++)m+=")";var y=new RegExp("^("+m+")$");if(i=y.test(p))break}h+=r}if(i)break}return a&&(h+=")",d--),i}null==r.regexTokens&&o();var c=a.buffer.slice(),h="",u=!1,d=0;c.splice(i,0,e);for(var p=c.join(""),f=0;f<r.regexTokens.length;f++){var s=r.regexTokens[f];if(u=l(s,s.isGroup))break}return u},cardinality:1}}}}),t.fn.inputmask}(jQuery),jQuery(document).ready(function(t){jQuery(document).on("cf.add",function(){t("[data-inputmask]").inputmask()}),jQuery(document).trigger("cf.add")}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(){var t=document.createElement("input");return t.setAttribute("type","range"),"text"!==t.type}function a(t,e){var a=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return t.apply(null,a)},e)}function i(t,e){return e=e||100,function(){if(!t.debouncing){var a=Array.prototype.slice.apply(arguments);t.lastReturnVal=t.apply(window,a),t.debouncing=!0}return clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout(function(){t.debouncing=!1},e),t.lastReturnVal}}function n(e,n){if(this.$window=t(window),this.$document=t(document),this.$element=t(e),this.options=t.extend({},l,n),this._defaults=l,this._name=r,this.startEvent=this.options.startEvent.join("."+r+" ")+"."+r,this.moveEvent=this.options.moveEvent.join("."+r+" ")+"."+r,this.endEvent=this.options.endEvent.join("."+r+" ")+"."+r,this.polyfill=this.options.polyfill,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.polyfill&&o)return!1;this.identifier="js-"+r+"-"+ +new Date,this.min=parseFloat(this.$element[0].getAttribute("min")||0),this.max=parseFloat(this.$element[0].getAttribute("max")||100),this.value=parseFloat(this.$element[0].value||this.min+(this.max-this.min)/2),this.step=parseFloat(this.$element[0].getAttribute("step")||1),this.$fill=t('<div class="'+this.options.fillClass+'" />'),this.$handle=t('<div class="'+this.options.handleClass+'" />'),this.$range=t('<div class="'+this.options.rangeClass+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.handleDown=t.proxy(this.handleDown,this),this.handleMove=t.proxy(this.handleMove,this),this.handleEnd=t.proxy(this.handleEnd,this),this.init();var s=this;this.$window.on("resize."+r,i(function(){a(function(){s.update()},300)},20)),this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown),this.$element.on("change."+r,function(t,e){if(!e||e.origin!==r){var a=t.target.value,i=s.getPositionFromValue(a);s.setPosition(i)}})}var r="rangeslider",s=[],o=e(),l={polyfill:!0,rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]};n.prototype.init=function(){this.onInit&&"function"==typeof this.onInit&&this.onInit(),this.update()},n.prototype.update=function(){this.handleWidth=this.$handle[0].offsetWidth,this.rangeWidth=this.$range[0].offsetWidth,this.maxHandleX=this.rangeWidth-this.handleWidth,this.grabX=this.handleWidth/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position)},n.prototype.handleDown=function(t){if(t.preventDefault(),this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),!((" "+t.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1)){var e=this.getRelativePosition(this.$range[0],t),a=this.getPositionFromNode(this.$handle[0])-this.getPositionFromNode(this.$range[0]);this.setPosition(e-this.grabX),e>=a&&e<a+this.handleWidth&&(this.grabX=e-a)}},n.prototype.handleMove=function(t){t.preventDefault();var e=this.getRelativePosition(this.$range[0],t);this.setPosition(e-this.grabX)},n.prototype.handleEnd=function(t){t.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd);var e=this.getRelativePosition(this.$range[0],t);this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(e-this.grabX,this.value)},n.prototype.cap=function(t,e,a){return e>t?e:t>a?a:t},n.prototype.setPosition=function(t){var e,a;e=this.getValueFromPosition(this.cap(t,0,this.maxHandleX))/this.step*this.step,a=this.getPositionFromValue(e),this.$fill[0].style.width=a+this.grabX+"px",this.$handle[0].style.left=a+"px",this.setValue(e),this.position=a,this.value=e,this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(a,e)},n.prototype.getPositionFromNode=function(t){for(var e=0;null!==t;)e+=t.offsetLeft,t=t.offsetParent;return e},n.prototype.getRelativePosition=function(t,e){return(e.pageX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX||e.currentPoint.x)-this.getPositionFromNode(t)},n.prototype.getPositionFromValue=function(t){var e,a;return e=(t-this.min)/(this.max-this.min),a=e*this.maxHandleX},n.prototype.getValueFromPosition=function(t){var e,a;return e=t/(this.maxHandleX||1),a=this.step*Math.ceil((e*(this.max-this.min)+this.min)/this.step),Number(a.toFixed(2))},n.prototype.setValue=function(t){t!==this.value&&this.$element.val(t).trigger("change",{origin:r})},n.prototype.destroy=function(){this.$document.off(this.startEvent,"#"+this.identifier,this.handleDown),this.$element.off("."+r).removeAttr("style").removeData("plugin_"+r),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0]),s.splice(s.indexOf(this.$element[0]),1),s.length||this.$window.off("."+r)},t.fn[r]=function(e){return this.each(function(){var a=t(this),i=a.data("plugin_"+r);i||(a.data("plugin_"+r,i=new n(this,e)),s.push(this)),"string"==typeof e&&i[e]()})}}),function(t){"use strict";var e={init:function(a){return this.each(function(){this.self=t(this),e.destroy.call(this.self),this.opt=t.extend(!0,{},t.fn.raty.defaults,a),e._adjustCallback.call(this),e._adjustNumber.call(this),"img"!==this.opt.starType&&e._adjustStarType.call(this),e._adjustPath.call(this),e._createStars.call(this),this.opt.cancel&&e._createCancel.call(this),this.opt.precision&&e._adjustPrecision.call(this),e._createScore.call(this),e._apply.call(this,this.opt.score),e._target.call(this,this.opt.score),this.opt.readOnly?e._lock.call(this):(this.style.cursor="pointer",e._binds.call(this)),this.self.data("options",this.opt)})},_adjustCallback:function(){for(var t=["number","readOnly","score","scoreName"],e=0;e<t.length;e++)"function"==typeof this.opt[t[e]]&&(this.opt[t[e]]=this.opt[t[e]].call(this))},_adjustNumber:function(){this.opt.number=e._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0,this.opt.targetType="score"},_adjustStarType:function(){this.opt.path="";for(var t=["cancelOff","cancelOn","starHalf","starOff","starOn"],e=0;e<t.length;e++)this.opt[t[e]]=this.opt[t[e]].replace(".","-")},_apply:function(t){e._fill.call(this,t),t&&(t>0&&this.score.val(e._between(t,0,this.opt.number)),e._roundStars.call(this,t))},_between:function(t,e,a){return Math.min(Math.max(parseFloat(t),e),a)},_binds:function(){this.cancel&&(e._bindOverCancel.call(this),
e._bindClickCancel.call(this),e._bindOutCancel.call(this)),e._bindOver.call(this),e._bindClick.call(this),e._bindOut.call(this)},_bindClick:function(){var e=this;e.stars.on("click.raty",function(a){var i=t(this);e.score.val(e.opt.half||e.opt.precision?e.self.data("score"):this.alt||i.data("alt")),e.opt.click&&e.opt.click.call(e,+e.score.val(),a)})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(e){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,e)})},_bindOut:function(){var t=this;t.self.on("mouseleave.raty",function(a){var i=+t.score.val()||void 0;e._apply.call(t,i),e._target.call(t,i,a),t.opt.mouseout&&t.opt.mouseout.call(t,i,a)})},_bindOutCancel:function(){var e=this;e.cancel.on("mouseleave.raty",function(a){var i=t(this),n=e.opt.path+e.opt.cancelOff;if("img"===e.opt.starType)i.attr("src",n);else{var r=e.opt.path+e.opt.cancelOn;i.removeClass(r).addClass(n)}if(e.opt.mouseout){var s=+e.score.val()||void 0;e.opt.mouseout.call(e,s,a)}})},_bindOver:function(){var t=this,a=t.opt.half?"mousemove.raty":"mouseover.raty";t.stars.on(a,function(a){var i=e._getScoreByPosition.call(t,a,this);e._fill.call(t,i),t.opt.half&&(e._roundStars.call(t,i),t.self.data("score",i)),e._target.call(t,i,a),t.opt.mouseover&&t.opt.mouseover.call(t,i,a)})},_bindOverCancel:function(){var a=this;a.cancel.on("mouseover.raty",function(i){var n=a.opt.path+a.opt.cancelOn,r=t(this),s=a.opt.path+a.opt.starOff;if("img"===a.opt.starType)r.attr("src",n),a.stars.attr("src",s);else{a.stars.attr("class",s);var o=a.opt.path+a.opt.cancelOff;r.removeClass(o).addClass(n).css("color",a.opt.starColor)}e._target.call(a,null,i),a.opt.mouseover&&a.opt.mouseover.call(a,null)})},_buildScoreField:function(){return t("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var e=this.opt.path+this.opt.cancelOff,a=t("<"+this.opt.starType+" />",{title:this.opt.cancelHint,"class":"raty-cancel"}).css("marginRight",this.opt.space?this.opt.spaceWidth+"px":"0");"img"===this.opt.starType?a.attr({src:e,alt:"x"}):a.attr("data-alt","x").addClass(e),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(a):this.self.append("&#160;").append(a),this.cancel=a},_createScore:function(){var a=t(this.opt.targetScore);this.score=a.length?a:e._buildScoreField.call(this)},_createStars:function(){for(var a=1;a<=this.opt.number;a++){var i,n=this.opt.score&&this.opt.score>=a?"starOn":"starOff",r=e._getHint.call(this,a);n=this.opt.path+this.opt[n],i="img"!==this.opt.starType?{"data-alt":a,"class":n}:{src:n,alt:a},i.title=r,t("<"+this.opt.starType+" />",i).css("marginRight",a<this.opt.number&&this.opt.space?this.opt.spaceWidth+"px":"0").appendTo(this),this.opt.space}this.stars=this.self.children(this.opt.starType)},_error:function(e){t(this).text(e),t.error(e)},_fill:function(t){for(var a=0,i=1;i<=this.stars.length;i++){var n,r=this.stars.eq(i-1),s=e._turnOn.call(this,i,t);if(this.opt.iconRange&&this.opt.iconRange.length>a){var o=this.opt.iconRange[a];n=e._getIconRange.call(this,o,s),i<=o.range&&("img"===this.opt.starType?r.attr("src",n):r.attr("class",n)),i===o.range&&a++}else n=this.opt.path+this.opt[s?"starOn":"starOff"],"img"===this.opt.starType?r.attr("src",n):r.attr("class",n),s?r.css("color",this.opt.starColor):r.css("color","")}},_getIconRange:function(t,e){return this.opt.path+(e?t.on||this.opt.starOn:t.off||this.opt.starOff)},_getScoreByPosition:function(a,i){var n=t(i),r=parseInt(i.alt||n.data("alt"),10);if(this.opt.half){var s=e._getSize.call(this),o=parseFloat((a.pageX-n.offset().left)/s);r=this.opt.precision?r-1+o:r-1+(o>.5?1:.5)}return r},_getSize:function(){var t;return t="img"===this.opt.starType?this.stars[0].width:parseFloat(this.stars.eq(0).css("font-size")),t||e._error.call(this,"Could not be possible get the icon size!"),t},_turnOn:function(t,e){return this.opt.single?t===e:e>=t},_getHint:function(t){var e=this.opt.hints[t-1];return""===e?"":e||t},_lock:function(){var t=parseInt(this.score.val(),10),a=t?e._getHint.call(this,t):this.opt.noRatedMsg;this.style.cursor="",this.title=a,this.score.prop("readonly",!0),this.stars.prop("title",a),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_roundStars:function(t){var e=(t%1).toFixed(2);if(e>this.opt.round.down){var a="starOn";this.opt.halfShow&&e<this.opt.round.up?a="starHalf":e<this.opt.round.full&&(a="starOff");var i=this.stars[Math.ceil(t)-1];"img"===this.opt.starType?i.src=this.opt.path+this.opt[a]:i.style.className=this.opt[a]}},_target:function(a,i){if(this.opt.target){var n=t(this.opt.target);n.length||e._error.call(this,"Target selector invalid or missing!");var r=i&&"mouseover"===i.type;if(void 0===a)a=this.opt.targetText;else if(null===a)a=r?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?a=e._getHint.call(this,Math.ceil(a)):this.opt.precision&&(a=parseFloat(a).toFixed(1));var s=i&&"mousemove"===i.type;r||s||this.opt.targetKeep||(a=this.opt.targetText)}a&&(a=this.opt.targetFormat.toString().replace("{score}",a)),n.is(":input")?n.val(a):n.html(a)}},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1);this.cancel&&this.cancel.css("display","")},cancel:function(a){return this.each(function(){var i=t(this);i.data("readonly")!==!0&&(e[a?"click":"score"].call(i,null),this.score.removeAttr("value"))})},click:function(a){return this.each(function(){t(this).data("readonly")!==!0&&(e._apply.call(this,a),this.opt.click&&this.opt.click.call(this,a,t.Event("click")),e._target.call(this,a))})},destroy:function(){return this.each(function(){var e=t(this),a=e.data("raw");a?e.off(".raty").empty().css({cursor:a.style.cursor}).removeData("readonly"):e.data("raw",e.clone()[0])})},getScore:function(){var t,e=[];return this.each(function(){t=this.score.val(),e.push(t?+t:void 0)}),e.length>1?e:e[0]},move:function(a){return this.each(function(){var i=parseInt(a,10),n=t(this).data("options"),r=(+a).toFixed(1).split(".")[1];i>=n.number&&(i=n.number-1,r=10);var s=e._getSize.call(this),o=s/10,l=t(this.stars[i]),c=l.offset().left+o*parseInt(r,10),h=t.Event("mousemove",{pageX:c});l.trigger(h)})},readOnly:function(a){return this.each(function(){var i=t(this);i.data("readonly")!==a&&(a?(i.off(".raty").children("img").off(".raty"),e._lock.call(this)):(e._binds.call(this),e._unlock.call(this)),i.data("readonly",a))})},reload:function(){return e.set.call(this,{})},score:function(){var a=t(this);return arguments.length?e.setScore.apply(a,arguments):e.getScore.call(a)},set:function(e){return this.each(function(){var a=t(this),i=a.data("options"),n=t.extend({},i,e);a.raty(n)})},setScore:function(a){return this.each(function(){t(this).data("readonly")!==!0&&(e._apply.call(this,a),e._target.call(this,a))})}};t.fn.raty=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void t.error("Method "+a+" does not exist!"):e.init.apply(this,arguments)},t.fn.raty.defaults={cancel:!1,cancelHint:"Cancel this rating!",cancelOff:"raty-cancel-off",cancelOn:"raty-cancel-on",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["1"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:void 0,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,space:!0,spaceWidth:3,starColor:"#ff00aa",starHalf:"star-half.png",starOff:"raty-dot-off",starOn:"raty-dot-on",starType:"img",target:void 0,targetFormat:"{score}",targetKeep:!1,targetScore:void 0,targetText:"",targetType:"hint"}}(jQuery),jQuery(function(t){t("body").on("click",".cf-toggle-group-buttons a",function(){var e=t(this),a=e.closest(".caldera-config-field"),i=a.find('[data-ref="'+e.attr("id")+'"]');a.find(".btn").removeClass(e.data("active")).addClass(e.data("default")),e.addClass(e.data("active")).removeClass(e.data("default")),i.prop("checked",!0).trigger("change")})});